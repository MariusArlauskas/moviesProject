(function(t){function e(e){for(var a,r,o=e[0],l=e[1],c=e[2],u=0,m=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&m.push(s[r][0]),s[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);d&&d(e);while(m.length)m.shift()();return n.push.apply(n,c||[]),i()}function i(){for(var t,e=0;e<n.length;e++){for(var i=n[e],a=!0,o=1;o<i.length;o++){var l=i[o];0!==s[l]&&(a=!1)}a&&(n.splice(e--,1),t=r(r.s=i[0]))}return t}var a={},s={app:0},n=[];function r(e){if(a[e])return a[e].exports;var i=a[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=a,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(i,a,function(e){return t[e]}.bind(null,a));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var d=l;n.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"034f":function(t,e,i){"use strict";var a=i("8a23"),s=i.n(a);s.a},"0401":function(t,e,i){},"0637":function(t,e,i){"use strict";var a=i("db30"),s=i.n(a);s.a},"0e03":function(t,e,i){},"16af":function(t,e,i){},"1a49":function(t,e,i){"use strict";var a=i("6e82"),s=i.n(a);s.a},"1d3b":function(t,e,i){},"1f9a":function(t,e,i){"use strict";var a=i("d278"),s=i.n(a);s.a},2281:function(t,e,i){"use strict";var a=i("c11c"),s=i.n(a);s.a},"247a":function(t,e,i){"use strict";var a=i("0401"),s=i.n(a);s.a},2966:function(t,e,i){},"2c9c":function(t,e,i){},"2d94":function(t,e,i){"use strict";var a=i("3117"),s=i.n(a);s.a},3117:function(t,e,i){},"314d":function(t,e,i){"use strict";var a=i("6aa9"),s=i.n(a);s.a},"3dca":function(t,e,i){},"3ec2":function(t,e,i){},4126:function(t,e,i){"use strict";var a=i("1d3b"),s=i.n(a);s.a},4721:function(t,e,i){"use strict";var a=i("7e34"),s=i.n(a);s.a},"4a90":function(t,e,i){},5125:function(t,e,i){"use strict";var a=i("7605"),s=i.n(a);s.a},5566:function(t,e,i){"use strict";var a=i("a71c"),s=i.n(a);s.a},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var a=i("2b0e"),s=(i("b0c0"),i("d3b7"),i("bc3a")),n=i.n(s),r=i("2f62"),o={webTitle:"Movies Society",headerLinks:[{name:"Home",icon:"mdi-view-dashboard",href:"HomePage",classes:"white--text",showWhenLoggedIn:!0},{name:"Movies",icon:"list",href:"Movies",classes:"white--text",showWhenLoggedIn:!0},{name:"Login",icon:"keyboard_arrow_right",href:"Login",classes:"accent--text text--lighten-2",showWhenLoggedIn:!1},{name:"SignUp",icon:"keyboard_arrow_right",href:"SignUp",classes:"secondary--text text--lighten-4",showWhenLoggedIn:!1},{name:"About",icon:"mdi-help-box",href:"AboutPage",classes:"white--text",showWhenLoggedIn:!0}],profileAdminLinks:[{title:"Admin menu",icon:"settings_applications",href:"AdminUsers",params:{}}],profileLinks:[{title:"Home",icon:"mdi-view-dashboard",href:"HomePage",params:{}},{title:"Profile",icon:"person",href:"ProfileMainWall",params:{name:"id",method:"this.getUserId"}},{title:"My movies",icon:"list",href:"ProfileMoviesList",params:{name:"id",method:"this.getUserId"}},{title:"Settings",icon:"settings",href:"ProfileEditProfile",params:{name:"id",method:"this.getUserId"}},{title:"About",icon:"mdi-help-box",href:"AboutPage",params:{}}]},l={GET_WEB_TITLE:function(){return o.webTitle},GET_HEADER_LINKS:function(){return o.headerLinks},GET_PROFILE_LINKS:function(){return o.profileLinks},GET_ADMIN_PROFILE_LINKS:function(){return o.profileAdminLinks}},c={},d={},u={state:o,getters:l,mutations:d,actions:c},m=(i("a4d3"),i("e01a"),i("caad"),i("fb6a"),i("b64b"),i("ac1f"),i("2532"),i("1276"),i("3835")),h={profileInfoLinks:[{title:"Activities",icon:"mdi-view-dashboard",href:"HomePage"},{title:"Movies",icon:"list",href:"HomePage"},{title:"Social",icon:"mdi-help-box",href:"HomePage"}],user:{},drawer:!1},v={GET_PROFILE_INFO_LINKS:function(t){return t.profileInfoLinks},GET_USER_DRAWER:function(t){return t.drawer},GET_USER:function(t){if(Object.keys(t.user).length<2)return!1;if(t.user.role.includes("_")){var e=t.user.role.split("_")[1].toLowerCase();e=e.charAt(0).toUpperCase()+e.slice(1),t.user.role=e}return t.user}},p={GET_USERS:function(){return new Promise((function(t,e){n.a.get("users").then((function(e){var i=e.data,a=e.status;200===a&&t(i)})).catch((function(t){e(t)}))}))},GET_USER_MOVIES_LIST:function(t,e){return new Promise((function(t,i){n.a.get("users/"+e+"/movies").then((function(e){var i=e.data,a=e.status;200===a&&t(i)})).catch((function(t){i(t)}))}))},GET_USER_PROFILE_BY_ID:function(t,e){return n.a.get("profile/"+e.id).then((function(t){var e=t.data,i=t.status;if(200===i)return e}))},LOGOUT:function(t){var e=t.commit;n.a.post("logout").then((function(){e("UNSET_USER")}))},LOGIN:function(t,e){var i=t.dispatch;return new Promise((function(t,a){n.a.post("login_check",e).then((function(a){var s=a.status;200===s&&(i("SET_USER",e),t(!0))})).catch((function(t){a(t)}))}))},REGISTER:function(t,e){var i=e.email,a=e.password,s=e.name,r=e.birthDate;return new Promise((function(t,e){n.a.post("register",{email:i,password:a,name:s,birthDate:r}).then((function(e){var i=e.status;200===i&&t(!0)})).catch((function(t){e(t)}))}))},UPDATE_USER:function(t,e){var i=t.commit,a=e.id,s=e.name,r=e.description,o=e.password;return new Promise((function(t,e){n.a.post("profile/"+a+"/update",{name:s,description:r,password:o}).then((function(e){var a=e.data,s=e.status;200===s&&(i("UPDATE_USER_SESSION",a),t(!0))})).catch((function(t){e(t)}))}))},CHANGE_USER_ROLE:function(t,e){var i=e.id,a=e.role;return new Promise((function(t,e){n.a.post("users/"+i+"/updateRole",{role:a}).then((function(e){var i=e.status;200===i&&t(!0)})).catch((function(t){e(t)}))}))},CHAT_BAN_USER:function(t,e){var i=e.id,a=e.chatBannedUntil;return new Promise((function(t,e){n.a.post("users/"+i+"/update",{chatBannedUntil:a}).then((function(e){var i=e.status;200===i&&t(!0)})).catch((function(t){e(t)}))}))},UPLOAD_USER_PICTURE:function(t,e){var i=t.commit,a=Object(m["a"])(e,2),s=a[0],r=a[1];return new Promise((function(t,e){n.a.post("profile/"+s+"/update",r,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){var a=e.data,s=e.status;200===s&&(i("UPDATE_USER_SESSION",a),t(!0))})).catch((function(t){e(t)}))}))},SET_USER:function(t){var e=t.commit;n.a.get("profile").then((function(t){var i=t.data,a=t.status;200===a&&e("SET_USER_SESSION",i)}))},SET_USER_FROM_SESSION:function(t){var e=t.commit;e("SET_USER_FROM_SESSION")}},f={SET_DRAWER:function(t){t.drawer=!t.drawer},SET_USER_SESSION:function(t,e){sessionStorage.setItem("user",JSON.stringify(e)),t.user=e,t.drawer=!0},UPDATE_USER_SESSION:function(t,e){"undefined"==typeof e.id&&""==e.id||(t.user=e,sessionStorage.setItem("user",JSON.stringify(e)))},SET_USER_FROM_SESSION:function(t){sessionStorage.getItem("user")&&(t.user=JSON.parse(sessionStorage.getItem("user")),t.drawer=!0)},UNSET_USER:function(t){sessionStorage.clear(),t.user={},t.drawer=!1}},g={state:h,getters:v,mutations:f,actions:p},_={notification:{display:!1,text:"Notification placeholder text",timeout:4e3,class:"success"}},x={NOTIFICATION:function(t){return t.notification}},w={},y={SET_NOTIFICATION:function(t,e){var i=e.display,a=e.text,s=e.alertClass;t.notification.display=i,t.notification.text=a,t.notification.class=s}},b={state:_,getters:x,mutations:y,actions:w},E=(i("4de4"),{}),S={},T={ADD_MOVIE_STATUS:function(t,e){var i=e.userId,a=e.movieId,s=e.relationType;return new Promise((function(t,e){n.a.post("users/"+i+"/apis/1/movies/"+a+"/status/"+s).then((function(e){var i=e.status;200===i&&t(!0)})).catch((function(t){e(t)}))}))},ADD_MOVIE_RATING:function(t,e){var i=e.userId,a=e.movieId,s=e.rating;return new Promise((function(t,e){n.a.post("users/"+i+"/apis/1/movies/"+a+"/rating/"+s).then((function(e){var i=e.status;200===i&&t(!0)})).catch((function(t){e(t)}))}))},GET_MOVIES:function(t,e){var i,a=e.page,s=e.userId,r=e.type,o=e.filter;return i="undefined"===typeof s||null===s?"movies/"+r+"/page/"+a:"movies/"+r+"/page/"+a+"/user/"+s,console.log(o),new Promise((function(t,e){n.a.post(i,{filter:o}).then((function(e){var i=e.data,a=e.status;200===a&&t(i)})).catch((function(t){e(t)}))}))},GET_WEB_MOST_POPULAR_MOVIES_LIST:function(t,e){var i=e.page,a=e.userId;return new Promise((function(t,e){n.a.get("movies/webMostPopular/page/"+i+"/M/"+a).then((function(e){var i=e.data,a=e.status;200===a&&t(i)})).catch((function(t){e(t)}))}))},GET_FULL_MOVIE:function(t,e){return new Promise((function(t,i){n.a.get("movies/"+e).then((function(e){var i=e.data,a=e.status;200===a&&t(i)})).catch((function(t){i(t)}))}))},GET_MOVIES_ADD_TYPES:function(){return n.a.get("lists/types").then((function(t){var e=t.data,i=t.status;if(200===i)return e}))},GET_MOVIES_GENRES:function(){return n.a.get("genres").then((function(t){var e=t.data,i=t.status;if(200===i)return e}))}},C={},I={state:E,getters:S,mutations:C,actions:T},k={},V={},M={GET_MESSAGES:function(t,e){var i=e.page,a=e.id;return new Promise((function(t,e){n.a.get("messages/"+i+"/"+a).then((function(e){var i=e.data,a=e.status;200===a&&t(i)})).catch((function(t){e(t)}))}))},GET_USERS_MESSAGES:function(t,e){var i=e.offset,a=e.userId;return n.a.get("users/"+a+"/messages/"+i).then((function(t){var e=t.data,i=t.status;if(200===i)return e}))},GET_MOVIE_MESSAGES:function(t,e){var i=e.offset,a=e.movieId;return n.a.get("movies/"+a+"/messages/"+i).then((function(t){var e=t.data,i=t.status;if(200===i)return e}))},POST_MESSAGE:function(t,e){var i=e.message,a=e.parentId,s=e.movieId;return new Promise((function(t,e){n.a.post("messages",{message:i,parentId:a,movieId:s}).then((function(e){var i=e.data,a=e.status;200===a&&t(i)})).catch((function(t){e(t)}))}))}},R={},O={state:k,getters:V,mutations:R,actions:M};a["a"].use(r["a"]);var P=new r["a"].Store({modules:{GlobalStore:u,UserStore:g,Notification:b,MoviesStore:I,FeedStore:O}}),A=i("8c4f"),U=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-layout",{staticClass:"mainContainer mt-3",staticStyle:{width:"100%",height:"auto"},attrs:{row:""}},[this.$vuetify.breakpoint.lg||this.$vuetify.breakpoint.xl?i("v-card",{staticClass:"leftColumn",attrs:{color:"transparent",dark:"",outlined:""}},[i("WebMostPopularMoviesMain",{attrs:{userId:t.getUser().id}})],1):t._e(),i("v-card",{class:[this.$vuetify.breakpoint.lg||this.$vuetify.breakpoint.xl?"middleColumn":""],style:[this.$vuetify.breakpoint.md?"width: 68%;":[this.$vuetify.breakpoint.sm||this.$vuetify.breakpoint.xs?"width: 100%;":""]]+"",attrs:{color:"transparent",dark:"",flat:""}},[i("FeedMain")],1),this.$vuetify.breakpoint.sm||this.$vuetify.breakpoint.xs?t._e():i("v-card",{staticClass:"rightColumn",attrs:{color:"transparent",dark:"",outlined:""}},[t.getUser().id>0?i("MyMoviesMain",{attrs:{userId:t.getUser().id}}):i("v-card",{staticClass:"transparent",attrs:{width:"100%",height:"auto",flat:"",dark:""}},[i("v-flex",{staticClass:"pt-5 caption text-center grey--text body-2"},[t._v(" Login to see "),i("span",{staticClass:"accent--text text--lighten-2"},[t._v("your movies")]),t._v(" menu ")])],1)],1)],1)},$=[],L=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",{staticClass:"transparent",attrs:{width:"100%",height:"auto",flat:"",dark:""}},["undefined"==typeof this.movies[0]&&null==this.movies[0]?i("v-progress-circular",{directives:[{name:"show",rawName:"v-show",value:!this.noData,expression:"!this.noData"}],staticStyle:{"margin-left":"calc(50% - 15px)","margin-top":"6%"},attrs:{size:"30",width:"3",indeterminate:"",color:"accent lighten-2"}}):t._l(this.movies,(function(e,a){return i("div",{directives:[{name:"show",rawName:"v-show",value:!t.noData,expression:"!noData"}],key:a},[i("v-layout",{staticClass:"mx-0",staticStyle:{width:"100%"},attrs:{row:""}},[i("v-card",{staticClass:"transparent px-3 pb-3",attrs:{width:"100%",flat:""}},[i("v-flex",{staticClass:"pl-2 py-2 font-weight-light"},[t._v(" Most "),i("span",{staticClass:"accent--text text--lighten-2"},[t._v("popular")]),t._v(" on site (last 30 days) ")]),t._l(e,(function(a,s){return i("v-container",{key:a.id,staticClass:"py-0 px-0"},[i("WebMostPopulatListItem",{attrs:{item:a,moviesAddTypes:t.moviesAddTypes,popularity:e[0].webPopularity}}),s!=Object.keys(e).length-1?i("v-divider"):t._e()],1)}))],2)],1)],1)})),i("v-flex",{directives:[{name:"show",rawName:"v-show",value:this.noData,expression:"this.noData"}],staticClass:"mt-3 pt-5 text-center grey--text body-2"},[t._v("No popular movies")])],2)},D=[],N=(i("4160"),i("159b"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-layout",{staticClass:"fullRow caption font-weight-light mx-0",staticStyle:{height:"50px",width:"100%",cursor:"pointer"},attrs:{"align-center":"",row:""},on:{click:function(e){t.$refs.movieDialog.dialog=!0}}},[i("v-flex",{ref:"movieImage",staticStyle:{height:"40px","margin-left":"10px","max-width":"40px","min-width":"40px"}},[i("MovieDialog",{ref:"movieDialog",attrs:{movie:this.item,moviesAddTypes:t.sendMoviesAddTypes()}})],1),i("v-col",{staticClass:"text-no-wrap",staticStyle:{"margin-left":"1%","max-width":"35%","min-width":"35%","overflow-x":"hidden"}},[t._v(t._s(this.item.title))]),i("v-card",{staticClass:"py-1 px-0 accent--text text--lighten-3",style:"margin-left: 10%; max-width:"+t.getWidth()+"%; min-width:"+t.getWidth()+"%;",attrs:{flat:"",color:t.getColor()}})],1)}),j=[],F=(i("a15b"),i("25f0"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-dialog",{attrs:{"max-width":"600px","min-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[i("v-flex",t._g({directives:[{name:"ripple",rawName:"v-ripple"}],staticStyle:{width:"100%",height:"100%",cursor:"pointer"}},a),["undefined"!==typeof t.movie.posterPath&&null!==t.movie.posterPath?i("v-img",{attrs:{height:"100%",src:t.movie.posterPath}}):i("v-img",{staticStyle:{background:"var(--v-background-lighten1)"},attrs:{height:"100%",width:"100%"}})],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("v-card",{staticStyle:{position:"absolute",left:"24%",top:"28.5%"},attrs:{dark:"",width:"52%",color:"secondary lighten-1"}},[i("v-card-title",{staticClass:"headline lighten-2",staticStyle:{"padding-left":"15%"},attrs:{"primary-title":""}},["undefined"!==typeof this.movie.posterPath&&null!==this.movie.posterPath?i("v-img",{staticStyle:{height:"250px","max-width":"170px","margin-top":"0%",margin:"-187px 0 -10px -18.5%"},attrs:{contain:"",src:t.movie.posterPath}}):t._e(),i("span",{staticStyle:{"padding-left":"17px","max-height":"30px","max-width":"50%",overflow:"hidden"}},[t._v(t._s(t.movie.title))]),t.getUser()?i("v-btn",{staticClass:"ml-auto mr-3",attrs:{"x-small":"",color:"accent lighten-2",ripple:!1,icon:""},on:{click:function(e){return t.addUserMovie(-1,"Favorite")}}},[1==t.movie.isFavorite?i("v-icon",{attrs:{size:"35"}},[t._v(t._s(this.likeIcon))]):i("v-icon",{attrs:{size:"35"}},[t._v(t._s(this.nolikeIcon))])],1):t._e(),i("v-col",{class:"py-0 pr-0 "+[t.getUser()?"":"ml-auto"],staticStyle:{width:"100px","max-width":"150px","min-width":"150px"}},[t._v("Rating: "+t._s(t.movie.rating))]),i("v-col",{staticClass:"colorIndicator",style:"background:"+t.getColor(t.movie.rating)})],1),i("v-divider"),i("v-layout",{staticClass:"mx-0",staticStyle:{width:"100%"},attrs:{row:""}},[i("v-col",{staticClass:"px-3",staticStyle:{"max-width":"170px"}},[i("v-row",{staticClass:"mx-0"},[t.getUser()?i("v-menu",{attrs:{transition:"slide-x-transition",bottom:"","close-on-click":"","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[i("v-btn",t._g({staticStyle:{width:"100%"},attrs:{small:"",outlined:"",color:"accent lighten-2",ripple:!1}},a),["undefined"!==typeof t.moviesAddTypes[t.movie.relationTypeId]&&null!==t.moviesAddTypes[t.movie.relationTypeId]&&""!=t.moviesAddTypes[t.movie.relationTypeId]&&0!=t.movie.relationTypeId?i("span",[t._v(t._s(t.moviesAddTypes[t.movie.relationTypeId]))]):i("span",[t._v("Add to list")])])]}}],null,!1,1788680251)},[i("v-list",{staticClass:"text-center",staticStyle:{background:"var(--v-primary-lighten2)"},attrs:{dark:"",dense:""}},t._l(t.moviesAddTypes,(function(e,a){return i("v-list-item",{key:a,on:{click:function(i){return t.addUserMovie(a,e)}}},[i("v-list-item-title",{class:[0==a?"accent--text text--lighten-2":""]},[t._v(t._s(e))])],1)})),1)],1):t._e()],1),0!=t.movie.relationTypeId&&null!=t.movie.relationTypeId?i("v-row",{directives:[{name:"show",rawName:"v-show",value:t.getUser(),expression:"getUser()"}],staticClass:"mx-0 mt-3",attrs:{justify:"center"}},[i("span",{staticClass:"body-1 font-weight-light"},[t._v("Personal rating")])]):t._e(),0!=t.movie.relationTypeId&&null!=t.movie.relationTypeId?i("v-row",{directives:[{name:"show",rawName:"v-show",value:t.getUser(),expression:"getUser()"}],staticClass:"mx-0"},[i("v-menu",{attrs:{transition:"slide-x-transition",bottom:"","close-on-click":"","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[i("v-btn",t._g({staticStyle:{width:"100%"},attrs:{small:"",outlined:"",color:"accent lighten-2",ripple:!1}},a),["undefined"!==typeof t.movie.userRating&&null!==t.movie.userRating&&""!=t.movie.userRating&&0!=t.movie.userRating?i("span",{staticClass:"subtitle-1 font-weight-black"},[t._v(t._s(t.movie.userRating))]):i("span",[t._v("Not rated")])])]}}],null,!1,482361535)},[i("v-list",{staticClass:"text-center",staticStyle:{background:"var(--v-primary-lighten2)"},attrs:{dark:"",dense:""}},t._l(10,(function(e){return i("v-list-item",{key:e,on:{click:function(i){return t.addUserRating(e)}}},[i("v-list-item-title",[t._v(t._s(e))])],1)})),1)],1)],1):t._e()],1),i("v-col",{staticClass:"mr-2"},[i("v-flex",[i("strong",[t._v("Original title:")]),t._v(" "+t._s(t.movie.originalTitle)+" ")]),i("v-flex",{staticClass:"font-italic font-weight-light"},[t._v(t._s(t.movie.genres))]),i("v-flex"),i("v-card-text",["undefined"!==typeof t.movie.overview&&null!==t.movie.overview&&""!==this.movie.overview?i("v-row",{staticClass:"pb-1",staticStyle:{"font-family":"'Courgette', cursive"}},[t._v(t._s(t.movie.overview))]):i("v-row",{staticClass:"pb-1",staticStyle:{"font-family":"'Courgette', cursive"}},[t._v("No description")])],1)],1)],1),i("v-divider"),i("v-card-actions",[i("v-btn",{attrs:{text:""},on:{click:function(e){t.dialog=!1}}},[t._v("Back")]),i("v-spacer"),i("v-btn",{attrs:{text:""}},[i("router-link",{staticClass:"white--text",attrs:{to:{name:"MovieMainWall",params:{id:this.movie.movieId}}}},[t._v("Open movie")])],1)],1)],1)],1)}),G=[],B={name:"MovieDialog2",props:{movie:Object,moviesAddTypes:null},data:function(){return{dialog:!1,nolikeIcon:"mdi-heart-outline",likeIcon:"mdi-heart"}},methods:{log:function(){console.log(this.movie)},getUser:function(){return this.$store.getters.GET_USER&&(this.$store.getters.GET_USER.id==this.$route.params.id||!this.$route.params.id)},getColor:function(t){var e=(100*(0+(t-1)/10)).toString(10);return["hsl(",e,",80%,40%)"].join("")},removeUserMovie:function(){var t=this;this.$store.dispatch("ADD_MOVIE_STATUS",{userId:this.$store.getters.GET_USER.id,movieId:this.movie.movieId,relationType:this.movie.relationTypeId}).then((function(){t.movie.relationTypeId=0,t.$store.commit("SET_NOTIFICATION",{display:!0,text:t.movie.title+" removed from list!",alertClass:"warning"}).catch((function(){t.error=!0}))})).catch((function(){t.error=!0}))},addUserMovie:function(t,e){var i=this;if(0!=t)if(this.movie.relationTypeId!=t)-1==t&&(t+=1),this.$store.dispatch("ADD_MOVIE_STATUS",{userId:this.$store.getters.GET_USER.id,movieId:this.movie.movieId,relationType:t}).then((function(){var a=i.movie.title+" added as "+e+"!",s="success";0==t?1==i.movie.isFavorite?(a=i.movie.title+" is not favorite anymore!",i.movie.isFavorite=0):i.movie.isFavorite=1:i.movie.relationTypeId=t,i.notify(a,s)})).catch((function(){i.error=!0}));else{var a=this.movie.title+" is already "+e+"!",s="warning";this.notify(a,s)}else this.removeUserMovie()},addUserRating:function(t){var e=this;this.$store.dispatch("ADD_MOVIE_RATING",{userId:this.$store.getters.GET_USER.id,movieId:this.movie.movieId,rating:t}).then((function(){var i=e.movie.title+" rated "+t+"!",a="success";e.movie.userRating=t,e.notify(i,a)})).catch((function(){e.error=!0}))},notify:function(t,e){var i=this;this.$store.commit("SET_NOTIFICATION",{display:!0,text:t,alertClass:e}).catch((function(){i.error=!0}))}}},W=B,H=(i("e533"),i("2877")),Y=i("6544"),z=i.n(Y),K=i("8336"),q=i("b0af"),J=i("99d9"),Z=i("62ad"),Q=i("169a"),X=i("ce7e"),tt=i("0e8f"),et=i("132d"),it=i("adda"),at=i("a722"),st=i("8860"),nt=i("da13"),rt=i("5d23"),ot=i("e449"),lt=i("0fd9"),ct=i("2fa4"),dt=i("269a"),ut=i.n(dt),mt=i("5607"),ht=Object(H["a"])(W,F,G,!1,null,"486e2ec6",null),vt=ht.exports;z()(ht,{VBtn:K["a"],VCard:q["a"],VCardActions:J["a"],VCardText:J["b"],VCardTitle:J["c"],VCol:Z["a"],VDialog:Q["a"],VDivider:X["a"],VFlex:tt["a"],VIcon:et["a"],VImg:it["a"],VLayout:at["a"],VList:st["a"],VListItem:nt["a"],VListItemTitle:rt["c"],VMenu:ot["a"],VRow:lt["a"],VSpacer:ct["a"]}),ut()(ht,{Ripple:mt["a"]});var pt={name:"WebMostPopularListItem",components:{MovieDialog:vt},data:function(){return{}},props:{item:Object,moviesAddTypes:null,popularity:null},methods:{getWidth:function(){return 23/this.popularity*this.item.webPopularity},getColor:function(){var t=10/this.popularity*this.item.webPopularity,e=(100*(0+(t-1)/10)).toString(10);return["hsl(",e,",80%,40%)"].join("")},sendMoviesAddTypes:function(){var t=this.moviesAddTypes;return t[0]="Remove",t}}},ft=pt,gt=(i("2281"),Object(H["a"])(ft,N,j,!1,null,"17add385",null)),_t=gt.exports;z()(gt,{VCard:q["a"],VCol:Z["a"],VFlex:tt["a"],VLayout:at["a"]});var xt={name:"WebMostPopularMoviesMain",components:{WebMostPopulatListItem:_t},data:function(){return{movies:[],moviesAddTypes:{},noData:!1}},props:{userId:null},methods:{getMovies:function(){var t=this,e=0;"undefined"==typeof this.userId&&null==this.userId||(e=this.userId),this.$store.dispatch("GET_WEB_MOST_POPULAR_MOVIES_LIST",{page:1,userId:e}).then((function(e){e&&e.constructor===Array?t.movies.push(e.slice(0,5)):t.noData=!0})).catch((function(){t.noData=!0}))},getMovieAddTypes:function(){var t=this;this.$store.dispatch("GET_MOVIES_ADD_TYPES").then((function(e){var i=[];e.forEach((function(t){i[t.id]=t.name})),t.moviesAddTypes=i,t.getMovies()}))}},mounted:function(){this.getMovieAddTypes()}},wt=xt,yt=i("a523"),bt=i("490a"),Et=Object(H["a"])(wt,L,D,!1,null,"54df3298",null),St=Et.exports;z()(Et,{VCard:q["a"],VContainer:yt["a"],VDivider:X["a"],VFlex:tt["a"],VLayout:at["a"],VProgressCircular:bt["a"]});var Tt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-layout",{attrs:{column:""}},[i("CommentBox",{directives:[{name:"show",rawName:"v-show",value:t.GET_USER,expression:"GET_USER"}],attrs:{parentId:0,button:!0},on:{clicked:t.childAction}}),t._l(this.messages,(function(t){return i("FeedItem",{key:t.id,attrs:{item:t,depth:1}})})),"undefined"==typeof this.messages[0]&&null==this.messages[0]?i("v-progress-circular",{directives:[{name:"show",rawName:"v-show",value:!this.pagesEnd,expression:"!this.pagesEnd"}],staticStyle:{"margin-left":"calc(50% - 15px)","margin-top":"6.5%"},attrs:{size:"30",width:"3",indeterminate:"",color:"accent lighten-2"}}):i("infinite-loading",{directives:[{name:"show",rawName:"v-show",value:!this.pagesEnd,expression:"!this.pagesEnd"}],attrs:{spinner:"spiral"},on:{infinite:t.infiniteHandler}}),i("v-flex",{directives:[{name:"show",rawName:"v-show",value:this.pagesEnd,expression:"this.pagesEnd"}],staticClass:"mt-3 mb-5 text-center grey--text body-2"},[t._v("No more messages found")])],2)},Ct=[],It=(i("99af"),i("2909")),kt=i("5530"),Vt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[new Date(t.GET_USER.chatBannedUntil)>new Date?i("div",{directives:[{name:"show",rawName:"v-show",value:"undefined"!=typeof t.GET_USER.chatBannedUntil&&null!=t.GET_USER.chatBannedUntil,expression:"typeof GET_USER.chatBannedUntil != 'undefined' && GET_USER.chatBannedUntil != null"}],staticClass:"caption accent--text text--lighten-2 mb-3 text-center"},[t._v("Chat banned until "+t._s(t.GET_USER.chatBannedUntil))]):i("div",[i("v-btn",{directives:[{name:"show",rawName:"v-show",value:this.button,expression:"this.button"}],staticClass:"caption accent--text text--lighten-2 mb-3",attrs:{text:"",height:"20px",width:"100%"},on:{click:function(e){t.writeMsg=!t.writeMsg}}},[t.writeMsg?i("span",[i("v-icon",{attrs:{small:""}},[t._v("keyboard_arrow_up")]),i("span",[t._v("Close")]),i("v-icon",{attrs:{small:""}},[t._v("keyboard_arrow_up")])],1):i("span",[i("v-icon",{attrs:{small:""}},[t._v("keyboard_arrow_down")]),i("span",[t._v("Share your thoughts")]),i("v-icon",{attrs:{small:""}},[t._v("keyboard_arrow_down")])],1)]),i("v-slide-y-transition",[i("div",{directives:[{name:"show",rawName:"v-show",value:t.writeMsg,expression:"writeMsg"}]},[i("v-list-item",{staticClass:"px-3 pt-3"},[i("v-textarea",{attrs:{placeholder:"Write your message here...","hide-details":"",outlined:"",rows:"1","auto-grow":""},model:{value:t.textArea,callback:function(e){t.textArea=e},expression:"textArea"}})],1),i("v-slide-y-transition",[i("div",{directives:[{name:"show",rawName:"v-show",value:""!=this.textArea,expression:"this.textArea != ''"}]},[i("v-card-actions",{staticClass:"justify-end pb-0"},[i("v-btn",{attrs:{height:"22px",text:""},on:{click:function(e){return t.postMsg()}}},[i("span",{staticClass:"body-2 accent--text text--lighten-2"},[t._v("Post")])])],1),i("v-divider",{staticClass:"mt-2"}),i("v-card",{staticClass:"transparent",attrs:{outlined:""}},[i("FeedItem",{attrs:{item:{userId:t.getUserId,userProfilePicture:t.GET_USER.profilePicture,userName:t.GET_USER.name,message:t.textArea}}})],1),i("v-divider",{staticClass:"mt-2"})],1)])],1)]),i("div",{class:[this.writeMsg?"mt-5":""]})],1)])},Mt=[],Rt=(i("a9e3"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",{staticClass:"background lighten-1 mb-3",attrs:{flat:""}},[i("v-list-item",{staticClass:"background header pl-2"},[i("router-link",{attrs:{to:{name:"ProfileMainWall",params:{id:t.item.userId}}}},[i("v-list-item-avatar",{staticClass:"mb-0",attrs:{size:"25"}},[i("img",{attrs:{src:t.item.userProfilePicture}})])],1),i("v-list-item-content",{staticClass:"pb-0"},[i("v-list-item-subtitle",[i("router-link",{staticClass:"grey--text text--lighten-1",staticStyle:{"text-decoration":"none"},attrs:{to:{name:"ProfileMainWall",params:{id:t.item.userId}}}},[t._v(t._s(t.item.userName))])],1)],1)],1),i("v-row",{staticClass:"mx-0 mt-2 px-1"},[i("v-spacer"),t.depth<2?i("span",{staticClass:"body-2 font-weight-thin"},[t._v(t._s(t.item.children.length))]):t._e(),i("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.depth<2,expression:"depth < 2"}],attrs:{right:"","x-small":"",icon:""},on:{click:function(e){t.openComments=!t.openComments}}},[i("v-icon",[t._v("comment")])],1)],1),"undefined"!==typeof t.item.posterPath&&null!==t.item.posterPath?i("div",[i("v-row",[i("v-col",{staticClass:"px-0 ml-7",staticStyle:{"max-width":"13%"}},[i("router-link",{attrs:{to:{name:"MovieMainWall",params:{id:t.item.movieId}}}},[i("v-img",{attrs:{height:"120px",src:t.item.posterPath}})],1)],1),i("v-col",[i("div",{staticClass:"pl-2 pb-3"},[i("v-row",{staticClass:"title",staticStyle:{width:"100%"}},[t._v("Review")]),i("v-row",{staticClass:"accent--text text--lighten-3 subtitle-2 font-italic font-weight-medium",staticStyle:{width:"100%"}},[t._v(t._s(t.item.title))]),i("v-divider",{attrs:{inset:""}})],1),i("v-card-text",{ref:"message",staticClass:"py-1 pb-2 pl-1",staticStyle:{"max-width":"100%",overflow:"hidden","white-space":"pre-line"},domProps:{innerHTML:t._s(t.decodeHtml(t.item.message))}})],1)],1)],1):i("v-card-text",{ref:"message",staticClass:"py-1 pb-2",staticStyle:{"max-width":"100%",overflow:"hidden","white-space":"pre-line"},domProps:{innerHTML:t._s(t.decodeHtml(t.item.message))}}),i("v-divider",{directives:[{name:"show",rawName:"v-show",value:this.long,expression:"this.long"}]}),i("v-btn",{directives:[{name:"show",rawName:"v-show",value:this.long,expression:"this.long"}],staticClass:"caption accent--text text--lighten-2",attrs:{text:"",height:"20px",width:"100%"},on:{click:function(e){return t.changeShownText()}}},[this.showingFull?i("span",[t._v("Show less")]):i("span",[t._v("Show more")])]),i("v-slide-y-transition",[t.openComments&&t.depth<2?i("v-card",{staticClass:"px-1 pb-1",attrs:{color:"transparent",flat:""}},[i("v-container",{staticClass:"noScroll background px-8 py-1",staticStyle:{"overflow-y":"scroll","max-height":"600px"}},[t.GET_USER?i("CommentBox",{attrs:{parentId:parseInt(t.item.id),button:!1},on:{clicked:t.childAction}}):t._e(),t._l(this.item.children,(function(e){return i("FeedItem",{key:e.id,tag:"component",attrs:{item:e,depth:t.depth+1}})}))],2)],1):t._e()],1)],1)}),Ot=[],Pt={name:"FeedItem",components:{},data:function(){return{long:!1,showingFull:!0,openComments:!1}},props:{item:Object,depth:Number},computed:Object(kt["a"])({},Object(r["b"])(["GET_USER"])),methods:{childAction:function(t){this.item.children=[t].concat(Object(It["a"])(this.item.children))},decodeHtml:function(t){var e=document.createElement("textarea");return e.innerHTML=t,e.value},changeShownText:function(){this.showingFull?this.$refs.message.style="max-height: 145px; overflow-y: hidden; white-space: pre-line;":this.$refs.message.style="max-height: 600px; max-width:100%; overflow-y: scroll; white-space: pre-line;",this.showingFull=!this.showingFull}},mounted:function(){this.$refs.message.clientHeight>145&&(this.long=!0,this.changeShownText())}},At=Pt,Ut=(i("1f9a"),i("8270")),$t=i("0789"),Lt=Object(H["a"])(At,Rt,Ot,!1,null,"727751ad",null),Dt=Lt.exports;z()(Lt,{VBtn:K["a"],VCard:q["a"],VCardText:J["b"],VCol:Z["a"],VContainer:yt["a"],VDivider:X["a"],VIcon:et["a"],VImg:it["a"],VListItem:nt["a"],VListItemAvatar:Ut["a"],VListItemContent:rt["a"],VListItemSubtitle:rt["b"],VRow:lt["a"],VSlideYTransition:$t["f"],VSpacer:ct["a"]});var Nt={name:"CommentBox",components:{FeedItem:Dt},data:function(){return{writeMsg:!1,textArea:"",timer:""}},props:{parentId:Number,button:Boolean,movieId:Number},computed:Object(kt["a"])({},Object(r["b"])(["GET_USER"]),{getUserId:function(){return this.$store.getters.GET_USER.id>0?this.$store.getters.GET_USER.id:0}}),methods:{postMsg:function(){var t=this;this.$store.dispatch("POST_MESSAGE",{message:this.textArea,parentId:this.parentId,movieId:"undefined"!=typeof this.movieId&&null!=this.movieId?this.movieId:0}).then((function(e){e.userId=t.$store.getters.GET_USER.id,e.userName=t.$store.getters.GET_USER.name,e.userProfilePicture=t.$store.getters.GET_USER.profilePicture,t.textArea="",t.button&&(t.writeMsg=!1),t.$store.commit("SET_NOTIFICATION",{display:!0,text:"Posted a message!",alertClass:"success"}),t.$emit("clicked",e)}))}},created:function(){this.button||(this.writeMsg=!0)}},jt=Nt,Ft=i("a844"),Gt=Object(H["a"])(jt,Vt,Mt,!1,null,null,null),Bt=Gt.exports;z()(Gt,{VBtn:K["a"],VCard:q["a"],VCardActions:J["a"],VDivider:X["a"],VIcon:et["a"],VListItem:nt["a"],VSlideYTransition:$t["f"],VTextarea:Ft["a"]});var Wt=i("e166"),Ht=i.n(Wt),Yt={name:"FeedMain",components:{FeedItem:Dt,InfiniteLoading:Ht.a,CommentBox:Bt},data:function(){return{messages:[],pagesEnd:!1,timer:""}},computed:Object(kt["a"])({},Object(r["b"])(["GET_USER"])),methods:{childAction:function(t){this.messages=[t].concat(Object(It["a"])(this.messages))},fetchComment:function(){var t=this;"undefined"==this.messages[0].id&&clearInterval(this.timer),this.$store.dispatch("GET_MESSAGES",{page:0,id:this.messages[0].id}).then((function(e){"undefined"!==typeof e[0]&&null!==e[0]&&""!==e[0]&&(t.messages=[].concat(Object(It["a"])(e),Object(It["a"])(t.messages)))})).catch((function(){clearInterval(t.timer)}))},getMessages:function(){var t=this;this.$store.dispatch("GET_MESSAGES",{page:this.messages.length+1,id:0}).then((function(e){"undefined"!==typeof e[0]&&null!==e[0]&&""!==e[0]?t.messages=[].concat(Object(It["a"])(t.messages),Object(It["a"])(e)):t.pagesEnd=!0})).catch((function(){t.pagesEnd=!0}))},infiniteHandler:function(t){var e=this;setTimeout((function(){e.pagesEnd?t.complete():(e.getMessages(),t.loaded())}),1500)}},beforeMount:function(){this.getMessages()},beforeDestroy:function(){}},zt=Yt,Kt=Object(H["a"])(zt,Tt,Ct,!1,null,null,null),qt=Kt.exports;z()(Kt,{VFlex:tt["a"],VLayout:at["a"],VProgressCircular:bt["a"]});var Jt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",{staticClass:"transparent",attrs:{width:"100%",height:"auto",flat:"",dark:""}},["undefined"==typeof this.movies[0]&&null==this.movies[0]?i("v-progress-circular",{directives:[{name:"show",rawName:"v-show",value:!this.noData,expression:"!this.noData"}],staticStyle:{"margin-left":"calc(50% - 15px)","margin-top":"6%"},attrs:{size:"30",width:"3",indeterminate:"",color:"accent lighten-2"}}):t._l(this.movies,(function(e,a){return i("div",{directives:[{name:"show",rawName:"v-show",value:!t.noData,expression:"!noData"}],key:a},[e.length>0?i("v-layout",{staticClass:"mx-0",staticStyle:{width:"100%"},attrs:{row:""}},[i("v-card",{staticClass:"transparent px-3 pb-3",attrs:{width:"100%",flat:""}},[i("v-flex",{staticClass:"pl-2 py-2 font-weight-light"},[t._v(" Movies I'm "),i("span",{staticClass:"accent--text text--lighten-2"},[t._v(t._s(t.names[a]))])]),t._l(e,(function(a,s){return i("v-container",{key:a.id,staticClass:"py-0 px-0"},[i("ListItem",{attrs:{item:a,moviesAddTypes:t.moviesAddTypes}}),s!=Object.keys(e).length-1?i("v-divider"):t._e()],1)}))],2)],1):i("v-flex",{staticClass:"mt-3 pt-5 text-center grey--text body-2"},[t._v(" You are not "),i("span",{staticClass:"accent--text text--lighten-2"},[t._v(t._s(t.names[a]))]),t._v(" any movies ")])],1)})),i("v-flex",{directives:[{name:"show",rawName:"v-show",value:this.noData,expression:"this.noData"}],staticClass:"mt-3 pt-5 text-center grey--text body-2"},[t._v("You are not planning to watch any new movies")])],2)},Zt=[],Qt=(i("96cf"),i("1da1")),Xt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-layout",{staticClass:"fullRow caption font-weight-light mx-0",staticStyle:{height:"50px",width:"100%",cursor:"pointer"},attrs:{"align-center":"",row:""},on:{click:function(e){t.$refs.movieDialog.dialog=!0}}},[i("v-flex",{ref:"movieImage",staticStyle:{height:"40px","margin-left":"10px","max-width":"40px","min-width":"40px"}},[i("MovieDialog",{ref:"movieDialog",attrs:{movie:this.item,moviesAddTypes:t.sendMoviesAddTypes()}})],1),i("v-col",{staticClass:"text-no-wrap",staticStyle:{"margin-left":"1%","max-width":"45%","min-width":"25%","overflow-x":"hidden"}},[t._v(t._s(this.item.title))]),"undefined"!==typeof this.moviesAddTypes[this.item.relationTypeId]&&null!==this.moviesAddTypes[this.item.relationTypeId]&&""!==this.moviesAddTypes[this.item.relationTypeId]&&0!=this.item.relationTypeId?i("v-col",{staticClass:"accent--text text--lighten-3",staticStyle:{"margin-left":"auto","margin-right":"2%","max-width":"90px","min-width":"90px"}},[t._v(t._s(this.moviesAddTypes[this.item.relationTypeId]))]):t._e()],1)},te=[],ee={name:"ListItem",components:{MovieDialog:vt},data:function(){return{}},props:{item:Object,moviesAddTypes:null},methods:{sendMoviesAddTypes:function(){var t=this.moviesAddTypes;return t[0]="Remove",t}}},ie=ee,ae=(i("9dbf"),Object(H["a"])(ie,Xt,te,!1,null,"29530528",null)),se=ae.exports;z()(ae,{VCol:Z["a"],VFlex:tt["a"],VLayout:at["a"]});var ne={name:"MyMoviesMain",components:{ListItem:se},data:function(){return{names:["watching","planning"],movies:[],moviesAddTypes:{},noData:!1}},props:{userId:null},methods:{getMovies:function(){var t=this;this.$store.dispatch("GET_USER_MOVIES_LIST",this.userId).then((function(e){if(e&&e.constructor===Array){var i=e.filter((function(e){return"Watching"==t.moviesAddTypes[e.relationTypeId]})).sort((function(t,e){return t.title>e.title?1:-1})).slice(0,5),a=e.filter((function(e){return"Planning"==t.moviesAddTypes[e.relationTypeId]})).sort((function(t,e){return t.title>e.title?1:-1})).slice(0,5);t.movies.push(i),t.movies.push(a)}else t.noData=!0})).catch((function(){}))},getMovieAddTypes:function(){var t=this;return Object(Qt["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("GET_MOVIES_ADD_TYPES").then((function(e){var i=[];e.forEach((function(t){i[t.id]=t.name})),t.moviesAddTypes=i,t.getMovies()}));case 2:case"end":return e.stop()}}),e)})))()}},mounted:function(){this.getMovieAddTypes()}},re=ne,oe=Object(H["a"])(re,Jt,Zt,!1,null,"511cbd72",null),le=oe.exports;z()(oe,{VCard:q["a"],VContainer:yt["a"],VDivider:X["a"],VFlex:tt["a"],VLayout:at["a"],VProgressCircular:bt["a"]});var ce={name:"HomePage",components:{FeedMain:qt,MyMoviesMain:le,WebMostPopularMoviesMain:St},computed:{getClass:function(){return"HomePage"===this.$route.name?"layoutMain":"layoutSide"},theme:function(){return this.$vuetify.theme.dark?"dark":"light"}},methods:{getUser:function(){return this.$store.getters.GET_USER}}},de=ce,ue=(i("9acb"),Object(H["a"])(de,U,$,!1,null,"0582624f",null)),me=ue.exports;z()(ue,{VCard:q["a"],VFlex:tt["a"],VLayout:at["a"]});var he=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-layout",{staticStyle:{height:"100%"},attrs:{"align-center":"","justify-center":""}},[i("v-flex",{attrs:{xs10:"",sm6:"",md6:"",xl5:""}},[i("v-form",[i("v-card",{staticStyle:{"border-radius":"40px","margin-bottom":"10%"},attrs:{flat:"",dark:"",color:"secondary"}},[i("v-toolbar",{attrs:{flat:"",color:"transparent"}},[i("v-toolbar-title",{staticClass:"text-center font-weight-bold",staticStyle:{width:"100%"}},[t._v("Login")])],1),i("v-alert",{staticClass:"ml-7 mr-7",attrs:{color:"error",value:t.error,icon:"close"}},[t._v("The username or password is incorrect!")]),i("v-card-text",{staticClass:"justify-center"},[i("v-text-field",{attrs:{"prepend-inner-icon":"person",name:"username",label:"E-mail",type:"text"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login()}},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),i("v-text-field",{attrs:{"prepend-inner-icon":"lock",name:"password",label:"Password",type:"password"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login()}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),i("v-card-actions",{staticClass:"mr-10 ml-10"},[i("v-btn",{attrs:{to:"/signUp",depressed:"",rounded:"",color:"transparent"}},[t._v("Sign up")]),i("v-spacer"),this.loginLoad?i("v-progress-circular",{staticStyle:{"margin-right":"38px"},attrs:{indeterminate:"",size:"26",width:"3",color:"accent lighten-2"}}):i("v-btn",{attrs:{depressed:"",rounded:"",color:"transparent",disabled:this.loginLoad},on:{click:function(e){return t.login()}}},[i("span",[t._v(" Login "),i("v-icon",[t._v("keyboard_arrow_right")])],1)])],1)],1)],1)],1)],1)},ve=[],pe={name:"login",data:function(){return{username:"",password:"",error:!1,loginLoad:!1,movies:[]}},methods:{getMovies:function(){var t=this,e=0;"undefined"==typeof this.userId&&null==this.userId||(e=this.userId),this.$store.dispatch("GET_WEB_MOST_POPULAR_MOVIES_LIST",{page:1,userId:e}).then((function(e){e&&e.constructor===Array&&t.movies.push(e.slice(0,3))}))},login:function(){var t=this;this.loginLoad=!0,this.$store.dispatch("LOGIN",{username:this.username,password:this.password}).then((function(){t.$router.push("/"),t.$store.commit("SET_NOTIFICATION",{display:!0,text:"Logged in!",alertClass:"success"}).catch((function(){t.error=!0}))})).catch((function(){t.loginLoad=!1,t.error=!0}))}},beforeMount:function(){this.getMovies()}},fe=pe,ge=(i("2d94"),i("0798")),_e=i("4bd4"),xe=i("8654"),we=i("71d9"),ye=i("2a7f"),be=Object(H["a"])(fe,he,ve,!1,null,"08045e73",null),Ee=be.exports;z()(be,{VAlert:ge["a"],VBtn:K["a"],VCard:q["a"],VCardActions:J["a"],VCardText:J["b"],VFlex:tt["a"],VForm:_e["a"],VIcon:et["a"],VLayout:at["a"],VProgressCircular:bt["a"],VSpacer:ct["a"],VTextField:xe["a"],VToolbar:we["a"],VToolbarTitle:ye["b"]});var Se=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-layout",{staticStyle:{height:"100%"},attrs:{"align-center":"","justify-center":""}},[i("v-flex",{attrs:{xs10:"",sm6:"",md6:"",xl4:""}},[i("v-form",{attrs:{autocomplete:"off"}},[i("v-card",{staticStyle:{"border-radius":"40px","margin-bottom":"10%"},attrs:{flat:"",dark:"",color:"secondary"}},[i("v-toolbar",{attrs:{flat:"",color:"transparent"}},[i("v-toolbar-title",{staticClass:"text-center font-weight-bold",staticStyle:{width:"100%"}},[t._v("Signup form")])],1),i("v-card-text",[i("v-alert",{attrs:{value:t.userExists,color:"error",icon:"warning"}},[t._v("This user alreary exists")]),i("v-text-field",{attrs:{"prepend-inner-icon":"person",name:"name",label:"Username",rules:[t.rules.required]},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),i("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[i("v-text-field",t._g({attrs:{name:"birthDate",label:"Birthday date","prepend-inner-icon":"event",readonly:"",rules:[t.rules.required]},model:{value:t.birthDate,callback:function(e){t.birthDate=e},expression:"birthDate"}},a))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[i("v-date-picker",{ref:"picker",staticStyle:{"border-radius":"0px"},attrs:{"no-title":"",max:(new Date).toISOString().substr(0,10),min:"1950-01-01"},on:{change:t.saveBirthDate},model:{value:t.birthDate,callback:function(e){t.birthDate=e},expression:"birthDate"}})],1),i("v-text-field",{attrs:{"prepend-inner-icon":"email",name:"email",label:"Email",rules:[t.rules.required,t.rules.email]},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),i("v-text-field",{attrs:{"prepend-inner-icon":"lock",name:"password",label:"Password",autocomplete:"new-password",rules:[t.rules.required],type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),i("v-text-field",{attrs:{"prepend-inner-icon":"lock",name:"password",label:"Confirm Password",rules:[t.rules.required],type:"password",error:!t.valid()},model:{value:t.confirm_password,callback:function(e){t.confirm_password=e},expression:"confirm_password"}})],1),i("v-card-actions",{staticClass:"mr-10 ml-10"},[i("v-btn",{attrs:{to:"/login",depressed:"",rounded:"",color:"transparent"}},[t._v("Login")]),i("v-spacer"),i("v-btn",{attrs:{depressed:"",rounded:"",color:"transparent"},on:{click:function(e){return t.register()}}},[t._v(" Register "),i("v-icon",[t._v("keyboard_arrow_right")])],1)],1)],1)],1)],1)],1)},Te=[],Ce={name:"SignUp",data:function(){return{menu:!1,birthDate:null,userExists:!1,email:"",name:"",password:"",confirm_password:"",rules:{required:function(t){return!!t||"Required"},email:function(t){var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)||"Invalid e-mail."}}}},methods:{register:function(){var t=this;this.valid()&&this.$store.dispatch("REGISTER",{name:this.name,email:this.email,password:this.password,birthDate:this.birthDate}).then((function(){t.$store.commit("SET_NOTIFICATION",{display:!0,text:"Account created! You can now login.",alertClass:"success"}),t.$router.push("/login")})).catch((function(){t.userExists=!0}))},valid:function(){return this.password===this.confirm_password},saveBirthDate:function(t){this.$refs.menu.save(t)}},watch:{menu:function(t){var e=this;t&&setTimeout((function(){return e.$refs.picker.activePicker="YEAR"}))}}},Ie=Ce,ke=(i("8c4a"),i("2e4b")),Ve=Object(H["a"])(Ie,Se,Te,!1,null,"9c0e0696",null),Me=Ve.exports;z()(Ve,{VAlert:ge["a"],VBtn:K["a"],VCard:q["a"],VCardActions:J["a"],VCardText:J["b"],VDatePicker:ke["a"],VFlex:tt["a"],VForm:_e["a"],VIcon:et["a"],VLayout:at["a"],VMenu:ot["a"],VSpacer:ct["a"],VTextField:xe["a"],VToolbar:we["a"],VToolbarTitle:ye["b"]});var Re=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("MoviesFilter",{on:{clicked:t.onChangeFilter}}),i("v-layout",{staticClass:"mainContainer pl-10 mt-3",attrs:{wrap:"","justify-center":""}},t._l(this.movies,(function(e){return i("MovieCard",{key:e.id,attrs:{item:e,moviesAddTypes:t.moviesAddTypes}})})),1),"undefined"==typeof this.movies[0]&&null==this.movies[0]?i("v-progress-circular",{directives:[{name:"show",rawName:"v-show",value:!this.pagesEnd,expression:"!this.pagesEnd"}],staticStyle:{"margin-left":"calc(50% - 15px)","margin-top":"2%"},attrs:{size:"30",width:"3",indeterminate:"",color:"accent lighten-2"}}):i("infinite-loading",{directives:[{name:"show",rawName:"v-show",value:!this.pagesEnd,expression:"!this.pagesEnd"}],ref:"infiniteHandler",attrs:{spinner:"spiral"},on:{infinite:t.infiniteHandler}}),i("v-flex",{directives:[{name:"show",rawName:"v-show",value:this.pagesEnd,expression:"this.pagesEnd"}],staticClass:"mt-3 pb-5 ml-10 text-center grey--text body-2"},[t._v("No more movies found")]),i("router-view",{attrs:{name:"MovieDialog"}})],1)},Oe=[],Pe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",{staticClass:"body-2 font-weight-light white--text pt-2",staticStyle:{"max-width":"15%",position:"absolute"},attrs:{color:"transparent",flat:"",dark:""}},[i("v-layout",{staticClass:"pr-5",staticStyle:{"margin-left":"30%"},attrs:{wrap:""}},[i("v-flex",{staticClass:"oneRow subtitle-1 text-center pb-3"},[t._v("Filter settings")]),i("v-flex",{staticClass:"oneRow"},[i("v-select",{staticClass:"pb-2",attrs:{items:t.listTypes,"item-text":"name","item-value":"value",hint:"Sort by","persistent-hint":"",dense:""},model:{value:t.selectType,callback:function(e){t.selectType=e},expression:"selectType"}})],1),i("v-flex",{staticClass:"oneRow"},[i("v-select",{staticClass:"pb-2",attrs:{items:t.genres,"item-text":"name","item-value":"name",hint:"Genre","persistent-hint":"",dense:"",multiple:""},model:{value:t.selectGenre,callback:function(e){t.selectGenre=e},expression:"selectGenre"}})],1),t.GET_USER?i("v-flex",{staticClass:"oneRow"},[i("v-select",{staticClass:"pb-2",attrs:{value:"All",items:t.likeTypes,"item-text":"name","item-value":"value",hint:"Favorite","persistent-hint":"",dense:""},model:{value:t.selectLike,callback:function(e){t.selectLike=e},expression:"selectLike"}})],1):t._e(),t.GET_USER?i("v-flex",{staticClass:"oneRow"},[i("v-select",{staticClass:"pb-10",attrs:{value:"All",items:t.inListTypes,"item-text":"name","item-value":"value",hint:"In list","persistent-hint":"",dense:""},model:{value:t.selectList,callback:function(e){t.selectList=e},expression:"selectList"}})],1):t._e(),i("v-flex",{staticClass:"oneRow"},[i("v-range-slider",{class:[t.GET_USER?"":"pt-10"]+"",attrs:{color:"background lighten-1","thumb-size":24,"thumb-label":"always",hint:"Year","persistent-hint":"",min:t.getCurrentYearRange[0],max:t.getCurrentYearRange[1]},model:{value:t.selectYear,callback:function(e){t.selectYear=e},expression:"selectYear"}})],1),i("v-flex",{staticClass:"oneRow"},[i("v-btn",{staticClass:"mt-4 body-1",staticStyle:{width:"100%"},attrs:{text:""},on:{click:t.sortMovies}},[t._v("Filter")])],1)],1)],1)},Ae=[],Ue={name:"MoviesFilter",data:function(){return{selectType:"mostPopular",selectGenre:"",selectYear:"",selectLike:"",selectList:"",listTypes:[{name:"Most popular",value:"mostPopular"},{name:"Top Rated",value:"topRated"},{name:"Upcoming",value:"upcoming"},{name:"Now Playing",value:"nowPlaying"}],likeTypes:[{name:"All",value:""},{name:"Not liked only",value:"0"}],inListTypes:[{name:"All",value:""},{name:"Only not in list",value:"0"}],genres:null}},computed:Object(kt["a"])({},Object(r["b"])(["GET_USER"]),{getCurrentYearRange:function(){return[1900,(new Date).getFullYear()+10]}}),methods:{sortMovies:function(){this.$emit("clicked",[{name:"type",sort:this.selectType},{name:"genre",sort:this.selectGenre},{name:"like",sort:this.selectLike},{name:"list",sort:this.selectList},{name:"year",sort:this.selectYear}])},getAllGenres:function(){var t=this;return Object(Qt["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("GET_MOVIES_GENRES").then((function(e){var i=[];e.forEach((function(t){i.push({name:t.name})})),t.genres=i}));case 2:case"end":return e.stop()}}),e)})))()}},beforeMount:function(){this.getAllGenres(),this.selectYear=this.getCurrentYearRange}},$e=Ue,Le=(i("5125"),i("5963")),De=i("b974"),Ne=Object(H["a"])($e,Pe,Ae,!1,null,"7c28fdc8",null),je=Ne.exports;z()(Ne,{VBtn:K["a"],VCard:q["a"],VFlex:tt["a"],VLayout:at["a"],VRangeSlider:Le["a"],VSelect:De["a"]});var Fe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",{staticClass:"movieCard white--text mb-4",attrs:{"min-width":"350px","max-width":"400px",outlined:"",dark:""}},[i("v-card-title",{staticClass:"primary subtitle-1 py-0 text-no-wrap",staticStyle:{height:"32px"}},[i("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.GET_USER,expression:"GET_USER"}],staticClass:"ml-0 mr-3",attrs:{"x-small":"",color:"accent lighten-2",ripple:!1,icon:""},on:{click:function(e){return t.addUserMovie(-1,"Favorite")}}},[1==this.item.isFavorite?i("v-icon",{attrs:{size:"23"}},[t._v(t._s(this.likeIcon))]):i("v-icon",{attrs:{size:"23"}},[t._v(t._s(this.nolikeIcon))])],1),i("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[i("span",t._g({staticClass:"font-weight-light",style:"overflow: hidden; "+[t.GET_USER?"max-width: 55%; min-width: 150px":"max-width: 90%; min-width: 150px"]},a),[t._v(t._s(t.item.title))])]}}])},[i("span",{staticStyle:{overflow:"hidden","min-width":"200px"}},[t._v(t._s(t.item.title))])]),this.item.relationTypeId>0&&t.GET_USER?i("v-flex",{staticClass:"'py-0 px-0 mr-0 ml-auto caption font-weight-thin accent--text text--lighten-2 d-none'",staticStyle:{"max-width":"17%",width:"auto"}},[t._v(t._s(t.moviesAddTypes[this.item.relationTypeId]))]):i("v-flex",{staticClass:"'py-0 px-0 mr-0 ml-auto"}),i("v-menu",{attrs:{transition:"slide-y-transition",bottom:"","close-on-click":"","offset-x":""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[i("v-btn",t._g({directives:[{name:"show",rawName:"v-show",value:t.GET_USER,expression:"GET_USER"}],staticClass:"ml-1 mr-4",attrs:{small:"",color:"accent lighten-2",ripple:!1,icon:""}},a),[t.item.relationTypeId>0?i("v-icon",{attrs:{size:"23"}},[t._v(t._s(t.listIcon))]):i("v-icon",{attrs:{size:"23"}},[t._v(t._s(t.nolistIcon))])],1)]}}])},[i("v-list",{staticStyle:{background:"var(--v-primary-lighten1)"},attrs:{dark:"",dense:""}},t._l(this.moviesAddTypes,(function(e,a){return i("v-list-item",{key:a,on:{click:function(i){return t.addUserMovie(a,e)}}},[i("v-list-item-title",{class:[0==a?"accent--text text--lighten-2":""]},[t._v(t._s(e))])],1)})),1)],1),i("v-container",{staticClass:"colorIndicator",style:"background:"+t.getColor(t.item.rating)})],1),i("v-layout",{staticStyle:{height:"190px",width:"100%"}},[i("div",{staticStyle:{width:"40%"}},[i("MovieDialog",{attrs:{movie:t.item,moviesAddTypes:t.moviesAddTypes}})],1),i("v-flex",{staticStyle:{width:"60%",height:"100%"},attrs:{outlined:""}},[i("v-card",{staticStyle:{width:"100%",height:"36%",background:"transparent"},attrs:{flat:"",dark:""}},[i("v-row",{staticClass:"mx-0 pt-3 pl-4"},[i("v-col",{staticClass:"px-0 py-0 font-italic font-weight-light white--text"},[t._v(t._s(t.item.author))]),i("v-col",{staticClass:"pl-0 py-0 font-italic font-weight-light white--text text-right"},[t._v(t._s(t.item.releaseDate))])],1),i("v-row",{staticClass:"mx-0 pt-1 pl-4 pr-3 mr-6 caption text-no-wrap",staticStyle:{"overflow-x":"hidden"}},[t._v(t._s(t.item.genres))])],1),i("v-card-text",{staticClass:"desc white--text caption mt-4 pt-0 pl-4 pr-5",staticStyle:{height:"49%","overflow-y":"scroll"}},["undefined"!==typeof t.item.overview&&null!==t.item.overview&&""!==t.item.overview?i("div",[t._v(t._s(t.item.overview))]):i("div",[t._v("No description")])])],1)],1)],1)},Ge=[],Be={name:"MovieCard",components:{MovieDialog:vt},data:function(){return{isActive:!1,nolikeIcon:"mdi-heart-outline",likeIcon:"mdi-heart",nolistIcon:"add",listIcon:"done"}},props:{item:Object,moviesAddTypes:null},computed:Object(kt["a"])({},Object(r["b"])(["GET_USER"])),methods:{removeUserMovie:function(){var t=this;this.$store.dispatch("ADD_MOVIE_STATUS",{userId:this.$store.getters.GET_USER.id,movieId:this.item.movieId,relationType:this.item.relationTypeId}).then((function(){t.item.relationTypeId=0;var e=t.item.title+" removed from list!";t.notify(e,"warning")})).catch((function(){t.error=!0}))},addUserMovie:function(t,e){var i=this;if(0!=t)if(this.item.relationTypeId!=t)-1==t&&(t+=1),this.$store.dispatch("ADD_MOVIE_STATUS",{userId:this.$store.getters.GET_USER.id,movieId:this.item.movieId,relationType:t}).then((function(){var a=i.item.title+" added as "+e+"!",s="success";0==t?1==i.item.isFavorite?(a=i.item.title+" is not favorite anymore!",i.item.isFavorite=0):i.item.isFavorite=1:i.item.relationTypeId=t,i.notify(a,s)})).catch((function(){i.error=!0}));else{var a=this.item.title+" is already "+e+"!",s="warning";this.notify(a,s)}else this.removeUserMovie()},notify:function(t,e){var i=this;this.$store.commit("SET_NOTIFICATION",{display:!0,text:t,alertClass:e}).catch((function(){i.error=!0}))},getColor:function(t){var e=(100*(0+(t-1)/10)).toString(10);return["hsl(",e,",80%,40%)"].join("")},changeLikeIcon:function(){"mdi-heart-outline"==this.likeIcon?this.likeIcon="mdi-heart":this.likeIcon="mdi-heart-outline"},changeListIcon:function(){"add"==this.listIcon?this.listIcon="done":this.listIcon="add"}}},We=Be,He=(i("bb89"),i("3a2f")),Ye=Object(H["a"])(We,Fe,Ge,!1,null,"33d31820",null),ze=Ye.exports;z()(Ye,{VBtn:K["a"],VCard:q["a"],VCardText:J["b"],VCardTitle:J["c"],VCol:Z["a"],VContainer:yt["a"],VFlex:tt["a"],VIcon:et["a"],VLayout:at["a"],VList:st["a"],VListItem:nt["a"],VListItemTitle:rt["c"],VMenu:ot["a"],VRow:lt["a"],VTooltip:He["a"]});var Ke={name:"Movies",components:{MovieCard:ze,InfiniteLoading:Ht.a,MoviesFilter:je},data:function(){return{pagesEnd:!1,pagesLoaded:1,lastFilter:"mostPopular",movies:[],moviesAddTypes:{}}},methods:{onChangeStuff:function(t){this.movies=[],this.onChangeFilter(t,[])},onChangeFilter:function(t){this.pagesEnd=!1,this.pagesLoaded=1,this.movies=[],this.lastFilter=t,this.getMovies(t[0].sort,t)},getMovies:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.$store.dispatch("GET_MOVIES",{page:this.pagesLoaded,userId:this.$store.getters.GET_USER.id,type:t,filter:i}).then((function(t){"undefined"==typeof t[0]||t.length<0?e.pagesEnd=!0:(e.movies=[].concat(Object(It["a"])(e.movies),Object(It["a"])(t)),e.pagesLoaded+=1)})).catch((function(t){console.log(t),e.pagesEnd=!0}))},getMovieAddTypes:function(){var t=this;this.$store.dispatch("GET_MOVIES_ADD_TYPES").then((function(e){var i=[];i[0]="Remove",e.forEach((function(t){i[t.id]=t.name})),t.moviesAddTypes=i}))},infiniteHandler:function(t){var e=this;setTimeout((function(){e.pagesEnd?t.complete():(t.loaded(),0!=e.lastFilter[0].length?e.getMovies(e.lastFilter[0].sort,e.lastFilter):e.getMovies("mostPopular"))}),1500)}},mounted:function(){this.pagesLoaded=1,this.getMovieAddTypes(),this.getMovies("mostPopular")}},qe=Ke,Je=Object(H["a"])(qe,Re,Oe,!1,null,"722f0cdc",null),Ze=Je.exports;z()(Je,{VFlex:tt["a"],VLayout:at["a"],VProgressCircular:bt["a"]});var Qe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-flex",{staticClass:"mx-0 px-0",staticStyle:{"margin-top":"-9px",width:"100"}},[i("ProfileInfoRow",{attrs:{user:this.user}}),i("v-divider",{staticClass:"secondary lighten-1"}),i("v-tabs",{attrs:{"background-color":"secondary",dark:""}},[i("v-tab",{staticClass:"tab font-weight-thin",attrs:{to:{name:"ProfileMainWall"},router:!0}},[t._v("Main")]),i("v-tab",{staticClass:"font-weight-thin",attrs:{to:{name:"ProfileMoviesList"},router:!0}},[t._v("Movies")])],1),i("router-view",{attrs:{userId:this.user.id}})],1)},Xe=[],ti=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",{staticClass:"topContainer secondary",attrs:{"max-height":"290px","min-height":"290px",dark:"",flat:""}},[this.user.name?i("v-layout",{staticStyle:{padding:"20px 20px 20px 7%",height:"290px",width:"100%"},attrs:{"justify-center":"",row:""}},[i("v-card",{staticClass:"py-0 transparent",style:[this.$vuetify.breakpoint.sm||this.$vuetify.breakpoint.xs?"width: 90%;":"width: 50%;"]+" min-width:250px; height: 100%",attrs:{flat:""}},[i("v-card-title",{staticClass:"font-italic font-weight-thin pb-4 pt-0 justify-center"},[t._v("About me")]),i("v-card-text",{staticClass:"desc",staticStyle:{height:"80%","overflow-y":"scroll","white-space":"pre-line"},domProps:{innerHTML:t._s(t.decodeHtml(this.user.description))}})],1),i("v-spacer",{staticClass:"hidden-sm-and-down",staticStyle:{"max-width":"5%"}}),i("v-card",{staticClass:"transparent hidden-sm-and-down",attrs:{img:"",flat:"","max-width":"12%","max-height":"100%","min-width":"180px"}},[i("v-img",{attrs:{contain:"","max-height":"100%","max-width":"100%",src:this.user.profilePicture}})],1),i("v-spacer",{staticStyle:{"max-width":"5%"}}),i("v-card",{staticClass:"transparent hidden-sm-and-down",staticStyle:{"min-width":"15%","padding-right":"80px"},attrs:{flat:""}},[i("v-btn",{directives:[{name:"show",rawName:"v-show",value:this.user.id==t.getLoggedInUserId(),expression:"this.user.id == getLoggedInUserId()"}],attrs:{text:"",outlined:"",color:"accent"}},[i("router-link",{staticClass:"accent--text text--lighten-2",attrs:{to:{name:"ProfileEditProfile",params:{id:this.user.id}}}},[t._v("Edit profile")])],1),i("v-card-title",{staticClass:"font-weight-thin pb-0 px-0"},[t._v("Users name")]),i("v-row",{staticClass:"mx-0"},[t._v(t._s(this.user.name))]),i("v-card-title",{staticClass:"font-weight-thin py-0 px-0"},[t._v("Age")]),i("v-row",{staticClass:"mx-0"},[t._v(t._s(t.userAge))]),i("v-card-title",{staticClass:"font-weight-thin py-0 px-0"},[t._v("Registered from")]),i("v-row",{staticClass:"mx-0"},[t._v(t._s(this.user.registerDate))])],1)],1):t._e()],1)},ei=[],ii={name:"ProfileInfoRow",props:{user:Object},computed:{userAge:function(){return(new Date).getFullYear()-parseInt(this.user.birthDate)}},methods:{getLoggedInUserId:function(){return this.$store.getters.GET_USER.id},decodeHtml:function(t){var e=document.createElement("textarea");return e.innerHTML=t,e.value}}},ai=ii,si=(i("7137"),Object(H["a"])(ai,ti,ei,!1,null,"bd9dc46c",null)),ni=si.exports;z()(si,{VBtn:K["a"],VCard:q["a"],VCardText:J["b"],VCardTitle:J["c"],VImg:it["a"],VLayout:at["a"],VRow:lt["a"],VSpacer:ct["a"]});var ri={name:"Profile",components:{ProfileInfoRow:ni},data:function(){return{user:{}}},computed:Object(kt["a"])({},Object(r["b"])(["GET_API_URL","GET_USER"])),methods:{setUserFromId:function(){var t=this;this.$store.dispatch("GET_USER_PROFILE_BY_ID",{id:this.$route.params.id}).then((function(e){t.user=e}))}},beforeMount:function(){this.setUserFromId()},watch:{"$route.params.id":function(){this.setUserFromId()}}},oi=ri,li=(i("d065"),i("71a3")),ci=i("fe57"),di=Object(H["a"])(oi,Qe,Xe,!1,null,"2afef955",null),ui=di.exports;z()(di,{VDivider:X["a"],VFlex:tt["a"],VTab:li["a"],VTabs:ci["a"]});var mi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-layout",{staticClass:"mainContainer"},[i("ProfileFeed")],1)},hi=[],vi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-layout",{staticClass:"mainContainer"},[i("v-card",{class:[this.$vuetify.breakpoint.md||this.$vuetify.breakpoint.lg||this.$vuetify.breakpoint.xl?"feed":"feedSmall"]+" transparent",attrs:{flat:"",dark:""}},[i("v-layout",{staticStyle:{width:"100%"},attrs:{column:""}},[t._l(this.messages,(function(t){return i("FeedItem",{key:t.id,attrs:{item:t,depth:1}})})),"undefined"==typeof this.messages[0]&&null==this.messages[0]?i("v-progress-circular",{directives:[{name:"show",rawName:"v-show",value:!this.pagesEnd,expression:"!this.pagesEnd"}],staticStyle:{"margin-left":"calc(50% - 15px)","margin-top":"4%"},attrs:{size:"30",width:"3",indeterminate:"",color:"accent lighten-2"}}):i("infinite-loading",{directives:[{name:"show",rawName:"v-show",value:!this.pagesEnd,expression:"!this.pagesEnd"}],attrs:{spinner:"spiral"},on:{infinite:t.infiniteHandler}}),i("v-flex",{directives:[{name:"show",rawName:"v-show",value:this.pagesEnd,expression:"this.pagesEnd"}],staticClass:"mt-3 mb-5 text-center grey--text body-2"},[t._v("No more messages found")])],2)],1)],1)},pi=[],fi={name:"ProfileMoviesWall",components:{FeedItem:Dt,InfiniteLoading:Ht.a},data:function(){return{messages:[],pagesEnd:!1,textArea:""}},methods:{getMessages:function(){var t=this;this.$store.dispatch("GET_USERS_MESSAGES",{offset:this.messages.length,userId:this.$route.params.id}).then((function(e){"undefined"!==typeof e[0]&&null!==e[0]&&""!==e[0]?t.messages=[].concat(Object(It["a"])(t.messages),Object(It["a"])(e)):t.pagesEnd=!0})).catch((function(){t.pagesEnd=!0}))},infiniteHandler:function(t){var e=this;setTimeout((function(){e.pagesEnd?t.complete():(e.getMessages(),t.loaded())}),1500)}},created:function(){this.getMessages()},watch:{"$route.params.id":function(){this.messages=[],this.pagesEnd=!1,this.getMessages()}}},gi=fi,_i=(i("becd"),Object(H["a"])(gi,vi,pi,!1,null,"63a1a4e0",null)),xi=_i.exports;z()(_i,{VCard:q["a"],VFlex:tt["a"],VLayout:at["a"],VProgressCircular:bt["a"]});var wi={name:"ProfileMainWall",components:{ProfileFeed:xi}},yi=wi,bi=Object(H["a"])(yi,mi,hi,!1,null,"6e263ffb",null),Ei=bi.exports;z()(bi,{VLayout:at["a"]});var Si=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",{staticClass:"mainContainer transparent",staticStyle:{"margin-top":"25px","margin-bottom":"25px"},attrs:{width:"100%",height:"auto",flat:"",dark:""}},["undefined"!=typeof this.movies[0]||null!=this.movies[0]||this.noFilter?i("div",{directives:[{name:"show",rawName:"v-show",value:!this.noData,expression:"!this.noData"}]},[i("ProfileMoviesFilter",{attrs:{moviesAddTypes:t.addAllType()},on:{changed:t.onChangeFilter}}),this.noFilter?t._e():i("v-layout",{style:[this.$vuetify.breakpoint.md||this.$vuetify.breakpoint.lg||this.$vuetify.breakpoint.xl?"margin-left: 15%; max-width:85%":""]+"",attrs:{row:""}},[i("v-card",{staticClass:"secondary px-3 pb-3",attrs:{width:"100%",flat:""}},[i("v-flex",{staticClass:"pl-3 pt-2 title font-weight-medium"},[t._v(t._s(t.shownMovies))]),i("v-layout",{staticClass:"mt-0 mb-5 listHeader",staticStyle:{height:"35px"},attrs:{row:""}},[i("v-col",{directives:[{name:"show",rawName:"v-show",value:this.$vuetify.breakpoint.sm||this.$vuetify.breakpoint.md||this.$vuetify.breakpoint.lg||this.$vuetify.breakpoint.xl,expression:"this.$vuetify.breakpoint.sm || this.$vuetify.breakpoint.md || this.$vuetify.breakpoint.lg || this.$vuetify.breakpoint.xl"}],staticClass:"px-0 text-center",staticStyle:{"margin-left":"1%","max-width":"calc(45% + 70px)","min-width":"calc(20% + 70px)"}},[t._v("Title")]),i("v-col",{staticClass:"px-0 text-center",style:[this.$vuetify.breakpoint.md||this.$vuetify.breakpoint.lg||this.$vuetify.breakpoint.xl?"margin-left: 5%; max-width: calc(120px + 4%); min-width:calc(120px + 4%);":[this.$vuetify.breakpoint.xs?"margin-left: 30%; max-width: 90px; min-width:90px;":"margin-left: 5%; max-width: 90px; min-width:90px;"]]+""},[t._v("Status")]),i("v-col",{directives:[{name:"show",rawName:"v-show",value:this.$vuetify.breakpoint.md||this.$vuetify.breakpoint.lg||this.$vuetify.breakpoint.xl,expression:"this.$vuetify.breakpoint.md || this.$vuetify.breakpoint.lg || this.$vuetify.breakpoint.xl"}],staticClass:"px-0 text-center",staticStyle:{"margin-left":"auto","max-width":"calc(75px + 1%)","min-width":"calc(75px + 1%)"}},[t._v("Rating")]),i("v-col",{staticClass:"px-0 text-center",staticStyle:{"margin-left":"auto","max-width":"calc(60px + 4%)","min-width":"calc(60px + 4%)"}},[t._v("My rating")])],1),t._l(this.movies,(function(e,a){return i("v-container",{key:e.id,staticClass:"py-0 px-0"},[i("ListItem",{attrs:{item:e,moviesAddTypes:t.moviesAddTypes}}),a!=Object.keys(t.movies).length-1?i("v-divider"):t._e()],1)}))],2)],1)],1):i("v-progress-circular",{directives:[{name:"show",rawName:"v-show",value:!this.noData,expression:"!this.noData"}],staticStyle:{"margin-left":"calc(56% - 15px)","margin-top":"1.5%"},attrs:{size:"30",width:"3",indeterminate:"",color:"accent lighten-2"}}),i("v-flex",{directives:[{name:"show",rawName:"v-show",value:this.noData||this.noFilter,expression:"this.noData || this.noFilter"}],staticClass:"mt-3 pt-5 text-center grey--text body-2"},[t._v("No movies in list")])],1)},Ti=[],Ci=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-layout",{staticClass:"fullRow caption font-weight-light mx-0",staticStyle:{height:"50px",cursor:"pointer"},attrs:{"align-center":"",row:""},on:{click:function(e){t.$refs.movieDialog.dialog=!0},mouseover:function(e){t.$refs.movieImage.style="height:180px; margin-left: -50px; max-width: 120px; margin-top: -138px"},mouseleave:function(e){t.$refs.movieImage.style="height:40px; margin-left: 30px; max-width: 40px"}}},[i("v-flex",{ref:"movieImage",staticStyle:{height:"40px","margin-left":"30px","max-width":"40px","min-width":"40px"}},[i("MovieDialog",{ref:"movieDialog",attrs:{movie:this.item,moviesAddTypes:t.sendMoviesAddTypes()}})],1),i("v-col",{directives:[{name:"show",rawName:"v-show",value:this.$vuetify.breakpoint.sm||this.$vuetify.breakpoint.md||this.$vuetify.breakpoint.lg||this.$vuetify.breakpoint.xl,expression:"this.$vuetify.breakpoint.sm || this.$vuetify.breakpoint.md || this.$vuetify.breakpoint.lg || this.$vuetify.breakpoint.xl"}],staticClass:"text-no-wrap",staticStyle:{"margin-left":"1%","max-width":"45%","min-width":"20%","overflow-x":"hidden"}},[t._v(t._s(this.item.title))]),1==this.item.isFavorite?i("v-icon",{directives:[{name:"show",rawName:"v-show",value:this.$vuetify.breakpoint.md||this.$vuetify.breakpoint.lg||this.$vuetify.breakpoint.xl,expression:"this.$vuetify.breakpoint.md || this.$vuetify.breakpoint.lg || this.$vuetify.breakpoint.xl"}],staticStyle:{"margin-left":"4%","max-width":"30px","min-width":"30px"},attrs:{color:"accent lighten-2",size:"23"}},[t._v(t._s(this.likeIcon))]):i("v-icon",{directives:[{name:"show",rawName:"v-show",value:this.$vuetify.breakpoint.md||this.$vuetify.breakpoint.lg||this.$vuetify.breakpoint.xl,expression:"this.$vuetify.breakpoint.md || this.$vuetify.breakpoint.lg || this.$vuetify.breakpoint.xl"}],staticStyle:{"margin-left":"4%","max-width":"30px","min-width":"30px"},attrs:{color:"accent lighten-2",size:"23"}},[t._v(t._s(this.nolikeIcon))]),"undefined"!==typeof this.moviesAddTypes[this.item.relationTypeId]&&null!==this.moviesAddTypes[this.item.relationTypeId]&&""!==this.moviesAddTypes[this.item.relationTypeId]&&0!=this.item.relationTypeId?i("v-col",{staticStyle:{"margin-left":"5%","max-width":"90px","min-width":"90px"}},[t._v(t._s(this.moviesAddTypes[this.item.relationTypeId]))]):i("v-col",{staticStyle:{"margin-left":"5%","max-width":"90px","min-width":"90px"}}),i("v-col",{directives:[{name:"show",rawName:"v-show",value:this.$vuetify.breakpoint.md||this.$vuetify.breakpoint.lg||this.$vuetify.breakpoint.xl,expression:"this.$vuetify.breakpoint.md || this.$vuetify.breakpoint.lg || this.$vuetify.breakpoint.xl"}],staticStyle:{"margin-left":"auto","max-width":"55px","min-width":"55px"}},[t._v(t._s(this.item.rating))]),i("v-container",{directives:[{name:"show",rawName:"v-show",value:this.$vuetify.breakpoint.md||this.$vuetify.breakpoint.lg||this.$vuetify.breakpoint.xl,expression:"this.$vuetify.breakpoint.md || this.$vuetify.breakpoint.lg || this.$vuetify.breakpoint.xl"}],staticClass:"colorIndicator",style:"margin-right:1%; background:"+t.getColor(t.item.rating)}),"undefined"!==typeof t.item.userRating&&null!==t.item.userRating&&""!=t.item.userRating&&0!=t.item.userRating?i("v-col",{staticStyle:{"margin-left":"auto","max-width":"40px","min-width":"40px"}},[t._v(t._s(this.item.userRating))]):i("v-col",{staticStyle:{"margin-left":"auto","max-width":"40px","min-width":"40px"}}),"undefined"!==typeof t.item.userRating&&null!==t.item.userRating&&""!=t.item.userRating&&0!=t.item.userRating?i("v-container",{staticClass:"colorIndicator",style:"margin-right:4%; background:"+t.getColor(t.item.userRating)}):i("v-container",{staticStyle:{"margin-left":"0px","margin-right":"4%","max-width":"20px","min-width":"20px",padding:"2px"}})],1)},Ii=[],ki={name:"ListItem",components:{MovieDialog:vt},data:function(){return{nolikeIcon:"mdi-heart-outline",likeIcon:"mdi-heart"}},props:{item:Object,moviesAddTypes:null},methods:{getColor:function(t){var e=(100*(0+(t-1)/10)).toString(10);return["hsl(",e,",80%,40%)"].join("")},sendMoviesAddTypes:function(){var t=this.moviesAddTypes;return t[0]="Remove",t}}},Vi=ki,Mi=(i("5566"),Object(H["a"])(Vi,Ci,Ii,!1,null,"22afc4da",null)),Ri=Mi.exports;z()(Mi,{VCol:Z["a"],VContainer:yt["a"],VFlex:tt["a"],VIcon:et["a"],VLayout:at["a"]});var Oi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",{staticClass:"transparent hidden-sm-and-down",staticStyle:{position:"absolute",width:"12%"},attrs:{flat:""}},[null!=t.moviesAddTypes||t.moviesAddTypes.length>0?i("v-layout",{staticClass:"mx-0",attrs:{row:""}},[i("v-flex",{staticClass:"oneRow text-center pb-5 pt-2"},[t._v("Filter")]),i("v-flex",{staticClass:"oneRow"},[i("v-select",{staticClass:"pb-2",attrs:{items:t.moviesAddTypes,hint:"Status","persistent-hint":"",dense:""},on:{change:t.sortMovies},model:{value:t.selectType,callback:function(e){t.selectType=e},expression:"selectType"}})],1),i("v-flex",{staticClass:"oneRow"},[i("v-select",{staticClass:"pb-10",attrs:{items:t.likeTypes,"item-text":"name","item-value":"value",hint:"Favorite","persistent-hint":"",dense:""},on:{change:t.sortMovies},model:{value:t.selectLike,callback:function(e){t.selectLike=e},expression:"selectLike"}})],1),i("v-flex",{staticClass:"oneRow"},[i("v-range-slider",{attrs:{color:"background lighten-1","thumb-size":24,"thumb-label":"always",hint:"Personal score","persistent-hint":"",min:0,max:10},on:{change:t.sortMovies},model:{value:t.selectPersonalRating,callback:function(e){t.selectPersonalRating=e},expression:"selectPersonalRating"}})],1)],1):t._e()],1)},Pi=[],Ai={name:"ProfileMoviesFilter",data:function(){return{selectType:"All",selectPersonalRating:[0,10],selectLike:"",likeTypes:[{name:"All",value:""},{name:"Liked only",value:"1"},{name:"Not liked only",value:"0"}]}},props:{moviesAddTypes:null},computed:{},methods:{sortMovies:function(){this.$emit("changed",[{name:"type",sort:this.selectType},{name:"personalRating",sort:this.selectPersonalRating},{name:"like",sort:this.selectLike}])}}},Ui=Ai,$i=(i("65ba"),Object(H["a"])(Ui,Oi,Pi,!1,null,"c5484770",null)),Li=$i.exports;z()($i,{VCard:q["a"],VFlex:tt["a"],VLayout:at["a"],VRangeSlider:Le["a"],VSelect:De["a"]});var Di={name:"ProfileMoviesList",components:{ProfileMoviesFilter:Li,ListItem:Ri},data:function(){return{shownMovies:"Full movie list",movies:[],fullMoviesList:[],moviesAddTypes:[],noData:!1,noFilter:!1}},methods:{addAllType:function(){var t=this.moviesAddTypes;return t[0]="All",t},onChangeFilter:function(t){var e=this;t.forEach((function(t){switch(t.name){case"type":"All"==t.sort?(e.shownMovies="Full movie list",e.movies=e.fullMoviesList):(e.shownMovies=t.sort,e.movies=e.fullMoviesList.filter((function(i){return e.moviesAddTypes[i.relationTypeId]==t.sort})));break;case"personalRating":e.movies=e.movies.filter((function(e){return e.userRating>=t.sort[0]&&e.userRating<=t.sort[1]&&[0!=t.sort[0]||null==e.userRating]}));break;case"like":""!=t.sort&&(e.movies=e.movies.filter((function(e){return e.isFavorite==t.sort})));break}})),this.movies=this.movies.sort((function(t,e){return t.title>e.title?1:-1})),0==this.movies.length?this.noFilter=!0:this.noFilter=!1},getMovies:function(){var t=this;this.$store.dispatch("GET_USER_MOVIES_LIST",this.$route.params.id).then((function(e){e&&e.constructor===Array?(t.movies=e,t.fullMoviesList=e):t.noData=!0})).catch((function(){}))},getMovieAddTypes:function(){var t=this;this.$store.dispatch("GET_MOVIES_ADD_TYPES").then((function(e){var i=[];e.forEach((function(t){i[t.id]=t.name})),t.moviesAddTypes=i}))}},mounted:function(){this.getMovies(),this.getMovieAddTypes()}},Ni=Di,ji=(i("88b3"),Object(H["a"])(Ni,Si,Ti,!1,null,"3fbc4428",null)),Fi=ji.exports;z()(ji,{VCard:q["a"],VCol:Z["a"],VContainer:yt["a"],VDivider:X["a"],VFlex:tt["a"],VLayout:at["a"],VProgressCircular:bt["a"]});var Gi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-layout",{staticClass:"mainContainer mt-3",staticStyle:{width:"100%"},attrs:{flat:""}},[i("v-col",{staticStyle:{"min-width":"150px"},attrs:{cols:"2"}},[i("v-card",{staticClass:"transparent",attrs:{dark:"",flat:""}},[i("v-list",{staticClass:"transparent",attrs:{nav:""}},[i("v-list-item",{staticClass:"title font-weight-light justify-center"},[t._v("Navigation")]),t._l(t.settingsList,(function(e,a){return i("v-list-item",{key:e.title,on:{click:function(i){return t.jump(e.href,e.params)}}},[i("v-list-item-content",{staticClass:"pl-3"},[t._v(t._s(e.title))]),a!=Object.keys(t.settingsList).length-1?i("v-divider"):t._e()],1)}))],2)],1)],1),i("v-col",{staticClass:"mt-3",attrs:{cols:"10"}},[i("router-view",{attrs:{user:t.getUser()}})],1)],1)},Bi=[],Wi=i("e4bc"),Hi=Wi["a"],Yi=(i("4126"),Object(H["a"])(Hi,Gi,Bi,!1,null,"1cbadd48",null)),zi=Yi.exports;z()(Yi,{VCard:q["a"],VCol:Z["a"],VDivider:X["a"],VLayout:at["a"],VList:st["a"],VListItem:nt["a"],VListItemContent:rt["a"]});var Ki=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",{staticClass:"background lighten-1 py-1 px-1",attrs:{flat:"",dark:""}},[i("v-layout",{staticClass:"background mx-0 px-7 pb-2",attrs:{column:""}},[i("v-form",{attrs:{autocomplete:"off"}},[i("v-card",{staticClass:"transparent",attrs:{flat:""}},[i("v-toolbar",{attrs:{flat:"",color:"transparent"}},[i("v-row",{staticClass:"fullRow title",attrs:{justify:"center"}},[t._v("Edit profile")])],1),i("v-divider"),i("v-card-text",[t.error.show?i("v-alert",{attrs:{color:"error",icon:"warning"}},[t._v(t._s(t.error.message))]):t._e(),i("v-row",{attrs:{align:"center"}},[i("v-col",{staticStyle:{width:"40%","margin-right":"8%"}},[i("v-row",[i("v-text-field",{ref:"name",attrs:{name:"name",maxlength:"100",hint:"User name, which is shown to all users","persistent-hint":"",counter:""},model:{value:this.user.name,callback:function(e){t.$set(this.user,"name",e)},expression:"this.user.name"}})],1)],1),i("v-col",{staticStyle:{width:"30%","margin-right":"2%"}},[i("v-row",[i("v-file-input",{attrs:{name:"image",hint:"Profile image","persistent-hint":"","prepend-icon":"account_box",accept:"image/png, image/jpeg, image/jpg"},on:{change:t.onFileChange},model:{value:t.image,callback:function(e){t.image=e},expression:"image"}})],1)],1),i("v-col",{staticClass:"px-0",staticStyle:{"max-width":"20%"}},[""!=this.imageUrl?i("v-img",{attrs:{contain:"","max-height":"100px",src:this.imageUrl}}):i("v-img",{attrs:{contain:"","max-height":"100px",src:this.user.profilePicture}})],1)],1),i("v-row",{staticClass:"pb-10",staticStyle:{width:"100%"}},[i("v-textarea",{attrs:{rows:"6","no-resize":"",name:"description",hint:"Your self description","persistent-hint":"",clearable:""},model:{value:t.user.description,callback:function(e){t.$set(t.user,"description",e)},expression:"user.description"}})],1),i("v-row",{staticClass:"fullRow subtitle-1",attrs:{justify:"center"}},[t._v("Change password")]),i("v-row",{staticStyle:{width:"50%"}},[i("v-text-field",{attrs:{name:"password",type:"password",hint:"Current password","persistent-hint":""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),i("v-row",{staticStyle:{width:"100%"}},[i("v-col",{staticClass:"px-0",staticStyle:{width:"49%","margin-right":"2%"}},[i("v-text-field",{attrs:{name:"password",type:"password",hint:"New password","persistent-hint":""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),i("v-col",{staticClass:"px-0",staticStyle:{width:"49%"}},[i("v-text-field",{attrs:{name:"password",type:"password",autocomplete:"new-password",hint:"Repeat new password","persistent-hint":""},model:{value:t.confirm_password,callback:function(e){t.confirm_password=e},expression:"confirm_password"}})],1)],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{loading:this.loading,depressed:"",outlined:"",color:"accent lighten-2"},on:{click:function(e){return t.save()}}},[t._v(" Save "),i("v-icon",[t._v("keyboard_arrow_right")])],1)],1)],1)],1)],1)],1)},qi=[],Ji=(i("3ca3"),i("ddb0"),i("2b3d"),{name:"ProfileEditProfile",data:function(){return{imageUrl:"",image:[],password:"",confirm_password:"",error:{show:!1,message:""},loading:!1}},props:{user:Object},methods:{onFileChange:function(t){try{this.imageUrl=URL.createObjectURL(t)}catch(e){}},save:function(){var t=this;this.valid()?(this.loading=!0,this.$store.dispatch("UPDATE_USER",{id:this.user.id,name:this.user.name,description:this.user.description,password:this.password}).then((function(){if(""!=t.imageUrl){var e=new FormData;e.append("profilePicture",t.image),t.$store.dispatch("UPLOAD_USER_PICTURE",[t.user.id,e]).then((function(){t.$store.commit("SET_NOTIFICATION",{display:!0,text:"Your profile was updated!",alertClass:"success"}),t.$router.push({name:"ProfileMainWall",params:{id:t.user.id}})})).catch((function(){t.userExists=!0,t.loading=!1}))}else t.$store.commit("SET_NOTIFICATION",{display:!0,text:"Your profile was updated!",alertClass:"success"}),t.$router.push({name:"ProfileMainWall",params:{id:t.user.id}})})).catch((function(){t.userExists=!0,t.loading=!1}))):(this.error.show=!0,this.error.message="Passwords do not match!")},valid:function(){return this.password===this.confirm_password}},mounted:function(){this.name=this.user.name,this.description=this.user.description}}),Zi=Ji,Qi=i("23a7"),Xi=Object(H["a"])(Zi,Ki,qi,!1,null,"6c61e056",null),ta=Xi.exports;z()(Xi,{VAlert:ge["a"],VBtn:K["a"],VCard:q["a"],VCardActions:J["a"],VCardText:J["b"],VCol:Z["a"],VDivider:X["a"],VFileInput:Qi["a"],VForm:_e["a"],VIcon:et["a"],VImg:it["a"],VLayout:at["a"],VRow:lt["a"],VSpacer:ct["a"],VTextField:xe["a"],VTextarea:Ft["a"],VToolbar:we["a"]});var ea=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-layout",{staticClass:"mainContainer mt-3",staticStyle:{width:"100%"},attrs:{flat:""}},[i("v-col",{attrs:{cols:"2"}},[i("v-card",{staticClass:"transparent",attrs:{dark:"",flat:""}},[i("v-list",{staticClass:"transparent",attrs:{nav:""}},[i("v-list-item",{staticClass:"title font-weight-light justify-center"},[t._v("Navigation")]),t._l(t.settingsList,(function(e,a){return i("v-list-item",{key:e.title,on:{click:function(i){return t.jump(e.href,e.params)}}},[i("v-list-item-content",{staticClass:"pl-3"},[t._v(t._s(e.title))]),a!=Object.keys(t.settingsList).length-1?i("v-divider"):t._e()],1)}))],2)],1)],1),i("v-col",{staticClass:"mt-3",attrs:{cols:"10"}},[i("router-view",{attrs:{user:t.getUser()}})],1)],1)},ia=[],aa=i("f4d5"),sa=aa["a"],na=(i("4721"),Object(H["a"])(sa,ea,ia,!1,null,"a89e457e",null)),ra=na.exports;z()(na,{VCard:q["a"],VCol:Z["a"],VDivider:X["a"],VLayout:at["a"],VList:st["a"],VListItem:nt["a"],VListItemContent:rt["a"]});var oa=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",{staticClass:"background lighten-1 py-1 px-1",attrs:{flat:"",dark:""}},[i("v-layout",{staticClass:"background mx-0",staticStyle:{width:"100%"},attrs:{row:""}},["undefined"==typeof this.users[0]&&null==this.users[0]?i("v-progress-circular",{directives:[{name:"show",rawName:"v-show",value:!this.noData,expression:"!this.noData"}],staticStyle:{"margin-left":"calc(50% - 15px)","margin-top":"7%","margin-bottom":"7%"},attrs:{size:"30",width:"3",indeterminate:"",color:"accent lighten-2"}}):i("v-card",{directives:[{name:"show",rawName:"v-show",value:!this.noData,expression:"!this.noData"}],staticClass:"transparent px-3 pb-3",attrs:{width:"100%",flat:""}},[i("v-flex",{staticClass:"pl-3 pt-2 title font-weight-medium"},[t._v("Users")]),i("v-layout",{staticClass:"mx-0 mt-3 mb-4 listHeader",staticStyle:{height:"35px",width:"100%"},attrs:{row:""}},[i("v-col",{staticClass:"px-0 text-center",staticStyle:{"margin-left":"2%","max-width":"calc(15% + 30px)","min-width":"calc(15% + 30px)"}},[t._v("Name")]),i("v-col",{staticClass:"px-0 text-center",staticStyle:{"margin-left":"1%","max-width":"30%","min-width":"30%"}},[t._v("Email")]),i("v-col",{staticClass:"px-0 pl-3 text-start",staticStyle:{"margin-left":"1%","max-width":"15%","min-width":"15%"}},[t._v("Joined at")]),i("v-col",{staticClass:"px-0 text-center",staticStyle:{"margin-left":"1%","max-width":"13%","min-width":"13%"}},[t._v("Role")]),i("v-col",{staticClass:"px-0 pl-3 text-start",staticStyle:{"margin-left":"2%","min-width":"11%"}},[t._v("Banned status")])],1),t._l(this.users,(function(e,a){return i("v-container",{key:e.id,staticClass:"py-0 px-0"},[i("UserItem",{attrs:{item:e}}),a!=Object.keys(t.users).length-1?i("v-divider"):t._e()],1)}))],2)],1),i("v-flex",{directives:[{name:"show",rawName:"v-show",value:this.noData,expression:"this.noData"}],staticClass:"mt-3 pt-5 text-center grey--text body-2"},[t._v("No users found")])],1)},la=[],ca=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-layout",{staticClass:"fullRow caption font-weight-light mx-0",staticStyle:{height:"55px",width:"100%",cursor:"pointer"},attrs:{"align-center":"",row:""},on:{click:function(e){return t.jump()}}},[i("v-avatar",{staticStyle:{height:"30px","margin-left":"20px","max-width":"30px","min-width":"30px"}},[i("img",{attrs:{src:this.item.profilePicture}})]),i("v-col",{staticClass:"text-no-wrap",staticStyle:{"max-width":"15%","min-width":"15%","overflow-x":"hidden"}},[t._v(t._s(this.item.name))]),i("v-col",{staticClass:"text-no-wrap",staticStyle:{"margin-left":"1%","max-width":"30%","min-width":"30%","overflow-x":"hidden"}},[t._v(t._s(this.item.email))]),i("v-col",{staticClass:"text-no-wrap",staticStyle:{"margin-left":"1%","max-width":"15%","min-width":"15%"}},[t._v(t._s(this.item.registerDate))]),i("v-col",{staticClass:"text-no-wrap pb-0",staticStyle:{"margin-left":"1%","max-width":"13%","min-width":"13%"},on:{click:function(t){t.stopPropagation()}}},[i("v-select",{staticClass:"caption",attrs:{height:"20px",dense:"",items:t.roles,"item-text":"name","item-value":"realName"},on:{change:t.changeUserRole},model:{value:t.chosenRole,callback:function(e){t.chosenRole=e},expression:"chosenRole"}})],1),i("v-col",{staticClass:"text-no-wrap pb-0 pt-4",staticStyle:{"margin-left":"2%","max-width":"11%","min-width":"11%"},on:{click:function(t){t.stopPropagation()}}},[i("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[i("v-text-field",t._g({staticClass:"pb-0 pt-1 my-0 caption",attrs:{height:"20px",name:"chatBannedUntil",readonly:""},model:{value:t.chatBannedUntil,callback:function(e){t.chatBannedUntil=e},expression:"chatBannedUntil"}},a))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[i("v-date-picker",{ref:"picker",staticStyle:{"border-radius":"0px"},attrs:{"no-title":"",min:"2000-01-01",max:t.getMaxDate},on:{change:t.saveChatBannedUntil},model:{value:t.chatBannedUntil,callback:function(e){t.chatBannedUntil=e},expression:"chatBannedUntil"}})],1)],1),i("v-container",{staticClass:"colorIndicator",style:"margin-right:1%; background:"+t.getBanColor})],1)},da=[],ua={name:"UserItem",components:{},data:function(){return{menu:!1,chatBannedUntil:null,roles:[{name:"User",realName:"ROLE_USER"},{name:"Admin",realName:"ROLE_ADMIN"}],chosenRole:""}},props:{item:Object},computed:{getBanColor:function(){return 0==this.item.chatBannedUntil.length?"var(--v-success-base);":new Date(this.item.chatBannedUntil)>new Date?"var(--v-error-darken1);":"var(--v-success-base);"},getMaxDate:function(){var t=new Date;return t.setFullYear(t.getFullYear()+10),t.toISOString().substr(0,10)}},methods:{jump:function(){this.$router.push({name:"ProfileMainWall",params:{id:this.item.id}})},changeUserRole:function(){var t=this;this.$store.dispatch("CHANGE_USER_ROLE",{id:this.item.id,role:this.chosenRole}).then((function(){t.item.role=t.chosenRole,t.$store.commit("SET_NOTIFICATION",{display:!0,text:t.item.name+" role got changed!",alertClass:"success"})}))},saveChatBannedUntil:function(t){var e=this;this.$refs.menu.save(t),this.$store.dispatch("CHAT_BAN_USER",{id:this.item.id,chatBannedUntil:t}).then((function(){e.item.chatBannedUntil=t,e.item.role=e.chosenRole,e.$store.commit("SET_NOTIFICATION",{display:!0,text:e.item.name+" got chat banned until "+t+" !",alertClass:"success"})}))}},mounted:function(){this.chosenRole=this.item.role,this.chatBannedUntil=this.item.chatBannedUntil},watch:{menu:function(t){var e=this;t&&setTimeout((function(){return e.$refs.picker.activePicker="YEAR"}))}}},ma=ua,ha=(i("247a"),i("8212")),va=Object(H["a"])(ma,ca,da,!1,null,"dc788e18",null),pa=va.exports;z()(va,{VAvatar:ha["a"],VCol:Z["a"],VContainer:yt["a"],VDatePicker:ke["a"],VLayout:at["a"],VMenu:ot["a"],VSelect:De["a"],VTextField:xe["a"]});var fa={name:"AdminUsers",components:{UserItem:pa},data:function(){return{users:[],noData:!1}},methods:{getUsers:function(){var t=this;this.$store.dispatch("GET_USERS").then((function(e){e&&e.constructor===Array?t.users=e:t.noData=!0})).catch((function(){t.noData=!0}))}},mounted:function(){this.getUsers()}},ga=fa,_a=Object(H["a"])(ga,oa,la,!1,null,"6b5b9f7e",null),xa=_a.exports;z()(_a,{VCard:q["a"],VCol:Z["a"],VContainer:yt["a"],VDivider:X["a"],VFlex:tt["a"],VLayout:at["a"],VProgressCircular:bt["a"]});var wa=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-flex",{staticClass:"mx-0 px-0",staticStyle:{"margin-top":"-9px",width:"100"}},[i("MovieInfoRow"),i("v-divider",{staticClass:"secondary lighten-1"}),i("v-tabs",{attrs:{"background-color":"secondary",dark:""}},[i("v-tab",{staticClass:"tab font-weight-thin",attrs:{to:{name:"MovieMainWall"},router:!0}},[t._v("Main")])],1),i("router-view")],1)},ya=[],ba=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",{staticClass:"topContainer secondary",attrs:{"max-height":"290px","min-height":"290px",dark:"",flat:""}},["undefined"!=typeof this.movie||this.movie!={}?i("v-layout",{staticStyle:{padding:"20px 120px 20px 7%",height:"290px",width:"100%"},attrs:{"justify-center":"",row:""}},[i("v-spacer"),i("v-card",{staticClass:"transparent",staticStyle:{width:"15%"},attrs:{flat:""}},[i("v-card-title",{staticClass:"font-weight-thin pb-0 px-0"},[t._v("Release date")]),i("v-row",{staticClass:"mx-0"},[t._v(t._s(this.movie.releaseDate))]),i("v-card-title",{staticClass:"font-weight-thin py-0 px-0"},[t._v("Author")]),i("v-row",{staticClass:"mx-0"},[t._v(t._s(null==this.movie.author?"Unknown":this.movie.author))]),i("v-card-title",{staticClass:"font-weight-thin py-0 px-0"},[t._v("Rating")]),i("v-row",{staticClass:"mx-0",attrs:{align:"center"}},[t._v(" "+t._s(this.movie.rating)+" "),"undefined"!==typeof this.movie.rating&&null!==this.movie.rating&&""!=this.movie.rating&&0!=this.movie.rating?i("v-container",{staticClass:"colorIndicator",style:"margin-left:10px; background:"+t.getColor(this.movie.rating)}):t._e()],1)],1),i("v-card",{staticClass:"transparent",attrs:{img:"",flat:"","max-width":"12%","max-height":"100%","min-width":"180px"}},[i("v-img",{attrs:{contain:"","max-height":"100%","max-width":"100%",src:this.movie.posterPath}})],1),i("v-spacer"),i("v-card",{staticClass:"py-0 transparent",staticStyle:{"min-width":"553px",width:"65%",height:"100%"},attrs:{flat:""}},[i("v-card-title",{staticClass:"font-italic font-weight-thin pb-4 pt-0",staticStyle:{"overflow-y":"hidden"}},[t._v(t._s(this.movie.originalTitle))]),i("v-card-text",{staticClass:"desc",staticStyle:{height:"80%","overflow-y":"scroll","white-space":"pre-line"}},[t._v(t._s(this.movie.overview))])],1)],1):t._e()],1)},Ea=[],Sa={name:"MovieInfoRow",data:function(){return{movie:{}}},computed:{},methods:{getFullMovieInfo:function(){var t=this;this.$store.dispatch("GET_FULL_MOVIE",this.$route.params.id).then((function(e){t.movie=e}))},getColor:function(t){var e=(100*(0+(t-1)/10)).toString(10);return["hsl(",e,",80%,40%)"].join("")}},beforeMount:function(){this.getFullMovieInfo()}},Ta=Sa,Ca=(i("0637"),Object(H["a"])(Ta,ba,Ea,!1,null,"773a89dd",null)),Ia=Ca.exports;z()(Ca,{VCard:q["a"],VCardText:J["b"],VCardTitle:J["c"],VContainer:yt["a"],VImg:it["a"],VLayout:at["a"],VRow:lt["a"],VSpacer:ct["a"]});var ka={name:"MoviePage",components:{MovieInfoRow:Ia}},Va=ka,Ma=(i("d605"),Object(H["a"])(Va,wa,ya,!1,null,"86458b38",null)),Ra=Ma.exports;z()(Ma,{VDivider:X["a"],VFlex:tt["a"],VTab:li["a"],VTabs:ci["a"]});var Oa=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-layout",{staticClass:"mainContainer"},[i("MovieFeed")],1)},Pa=[],Aa=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-layout",{staticClass:"mainContainer"},[i("v-card",{class:[this.$vuetify.breakpoint.md||this.$vuetify.breakpoint.lg||this.$vuetify.breakpoint.xl?"feed":"feedSmall"]+" transparent",attrs:{flat:"",dark:""}},[i("v-layout",{staticStyle:{width:"100%"},attrs:{column:""}},[i("CommentBox",{directives:[{name:"show",rawName:"v-show",value:t.GET_USER,expression:"GET_USER"}],attrs:{parentId:0,button:!0,movieId:t.getMovieId},on:{clicked:t.childAction}}),t._l(this.messages,(function(t){return i("FeedItem",{key:t.id,attrs:{item:t,depth:1}})})),"undefined"==typeof this.messages[0]&&null==this.messages[0]?i("v-progress-circular",{directives:[{name:"show",rawName:"v-show",value:!this.pagesEnd,expression:"!this.pagesEnd"}],staticStyle:{"margin-left":"calc(50% - 15px)","margin-top":"4%"},attrs:{size:"30",width:"3",indeterminate:"",color:"accent lighten-2"}}):i("infinite-loading",{directives:[{name:"show",rawName:"v-show",value:!this.pagesEnd,expression:"!this.pagesEnd"}],attrs:{spinner:"spiral"},on:{infinite:t.infiniteHandler}}),i("v-flex",{directives:[{name:"show",rawName:"v-show",value:this.pagesEnd,expression:"this.pagesEnd"}],staticClass:"mt-3 mb-5 text-center grey--text body-2"},[t._v("No more messages found")])],2)],1)],1)},Ua=[],$a={name:"ProfileMoviesWall",components:{FeedItem:Dt,InfiniteLoading:Ht.a,CommentBox:Bt},data:function(){return{messages:[],pagesEnd:!1,textArea:""}},computed:Object(kt["a"])({},Object(r["b"])(["GET_USER"]),{getMovieId:function(){return parseInt(this.$route.params.id)}}),methods:{childAction:function(t){this.messages=[t].concat(Object(It["a"])(this.messages))},getMessages:function(){var t=this;this.$store.dispatch("GET_MOVIE_MESSAGES",{offset:this.messages.length,movieId:this.$route.params.id}).then((function(e){"undefined"!==typeof e[0]&&null!==e[0]&&""!==e[0]?t.messages=[].concat(Object(It["a"])(t.messages),Object(It["a"])(e)):t.pagesEnd=!0})).catch((function(){t.pagesEnd=!0}))},infiniteHandler:function(t){var e=this;setTimeout((function(){e.pagesEnd?t.complete():(e.getMessages(),t.loaded())}),1500)}},created:function(){this.getMessages()},watch:{"$route.params.id":function(){this.messages=[],this.pagesEnd=!1,this.getMessages()}}},La=$a,Da=(i("1a49"),Object(H["a"])(La,Aa,Ua,!1,null,"9f594004",null)),Na=Da.exports;z()(Da,{VCard:q["a"],VFlex:tt["a"],VLayout:at["a"],VProgressCircular:bt["a"]});var ja={name:"MovieMainWall",components:{MovieFeed:Na}},Fa=ja,Ga=Object(H["a"])(Fa,Oa,Pa,!1,null,"0243e906",null),Ba=Ga.exports;z()(Ga,{VLayout:at["a"]});var Wa=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-layout",{staticStyle:{height:"100%"},attrs:{"align-center":"","justify-center":""}},[i("v-card",{staticStyle:{"margin-bottom":"10%"},attrs:{color:"transparent",flat:"",dark:""}},[i("v-card-title",{staticClass:"justify-center"},[t._v("About")]),i("v-card-text",{staticClass:"text-center"},[t._v("This website was created by Marius Arlauskas IFF -6/7 in 2020")])],1)],1)},Ha=[],Ya={name:"AboutPage"},za=Ya,Ka=Object(H["a"])(za,Wa,Ha,!1,null,null,null),qa=Ka.exports;z()(Ka,{VCard:q["a"],VCardText:J["b"],VCardTitle:J["c"],VLayout:at["a"]}),a["a"].use(A["a"]);var Ja=[{path:"/",name:"HomePage",component:me},{path:"/movies",name:"Movies",component:Ze},{path:"/profile/:id",name:"Profile",component:ui,children:[{path:"main",name:"ProfileMainWall",component:Ei},{path:"movies",name:"ProfileMoviesList",component:Fi}]},{path:"/profile/:id/edit",name:"ProfileEdit",component:zi,children:[{path:"profile",name:"ProfileEditProfile",component:ta}]},{path:"/adminMenu",name:"AdminMenu",component:ra,children:[{path:"users",name:"AdminUsers",component:xa}]},{path:"/movie/:id",name:"MoviePage",component:Ra,children:[{path:"main",name:"MovieMainWall",component:Ba}]},{path:"/login",name:"Login",component:Ee},{path:"/signUp",name:"SignUp",component:Me},{path:"/about",name:"AboutPage",component:qa}],Za=new A["a"]({mode:"history",routes:Ja,base:"/"}),Qa=Za;n.a.defaults.baseURL="http://127.0.0.1:8000/api/",n.a.defaults.withCredentials=!0;var Xa={headers:{Pragma:"no-cache"}},ts=n.a.create(Xa);ts.interceptors.request.use((function(t){return t}),(function(t){return Promise.reject(t)})),n.a.interceptors.response.use((function(t){return t}),(function(t){return 401!=t.response.status&&403!=t.response.status||P.dispatch("LOGOUT").then((function(){"Login"!=Qa.currentRoute.name&&(Qa.push("/login"),P.commit("SET_NOTIFICATION",{display:!0,text:"Please login!",alertClass:"warning"}))})),Promise.reject(t)})),Plugin.install=function(t){t.axios=ts,window.axios=ts,Object.defineProperties(t.prototype,{axios:{get:function(){return ts}},$axios:{get:function(){return ts}}})},a["a"].use(Plugin);Plugin;var es=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-app",[i("Header"),t.GET_USER.id&&t.drawer?i("ProfileBar"):t._e(),i("v-content",{staticClass:"mainBackground",style:[this.$vuetify.breakpoint.md||this.$vuetify.breakpoint.lg||this.$vuetify.breakpoint.xl?"padding-top: 60px;":"padding-top: 5px;"]+" height:auto; width:100%"},[i("router-view")],1),i("Footer"),i("Notification")],1)},is=[],as=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-fade-transition",[a("v-navigation-drawer",{directives:[{name:"show",rawName:"v-show",value:t.showNavbar,expression:"showNavbar"}],staticClass:"hidden-sm-and-down",staticStyle:{"padding-left":"0px"},attrs:{width:"100%",height:"auto",dark:"",color:"var(--v-primary-base)",permanent:"",fixed:""}},[a("v-toolbar-title",{staticClass:"noScrollbar ml-3 mr-10",staticStyle:{width:"180px",float:"left"}},[a("router-link",{attrs:{to:{name:"HomePage"}}},[a("v-row",{staticClass:"ml-0 my-2",attrs:{align:"center"}},[a("v-avatar",{staticClass:"mr-2",attrs:{size:"35px",color:"var(--v-primary-lighten5)"}},[a("v-img",{attrs:{contain:"","max-height":"33px","max-width":"33px",src:i("cf05")}})],1),a("v-content",{staticClass:"py-0 white--text"},[t._v(t._s(t.GET_WEB_TITLE))])],1)],1)],1),t._l(t.links,(function(e){return a("v-toolbar-items",{key:e.name,staticClass:"font-weight-light mr-3 header-href",staticStyle:{float:"left",height:"auto"}},[a("router-link",{class:e.classes,attrs:{to:{name:e.href}}},[t._v(t._s(e.name))])],1)})),a("SearchDialog")],2)],1),a("v-fade-transition",[a("v-card",{staticClass:"hidden-md-and-up mx-auto overflow-hidden primary",staticStyle:{"border-radius":"0%"},attrs:{height:"auto",width:"100%"}},[a("v-app-bar",{attrs:{color:"primary","max-height":"100px",dark:"",prominent:""}},[a("v-layout",{attrs:{wrap:""}},[a("v-row",{staticStyle:{width:"100%"}},[a("v-app-bar-nav-icon",{on:{click:function(e){return t.changeBar()}}}),a("div",{staticStyle:{"margin-left":"auto","margin-right":"2%"}},[a("SearchDialog")],1),t.GET_USER.id?a("v-app-bar-nav-icon",{staticStyle:{"margin-right":"60px"},on:{click:function(e){return t.changeProfileBar(!0)}}}):t._e()],1),a("v-row",{staticStyle:{width:"100%"}},[a("v-toolbar-title",{staticClass:"noScrollbar",staticStyle:{width:"100%"}},[a("router-link",{attrs:{to:{name:"HomePage"}}},[a("v-col",{staticClass:"py-0",attrs:{align:"center"}},[a("v-content",{staticClass:"py-0 white--text"},[t._v(t._s(t.GET_WEB_TITLE))])],1)],1)],1)],1)],1)],1),a("v-navigation-drawer",{staticClass:"pb-3",attrs:{dark:"",color:"var(--v-primary-base)",temporary:"",fixed:"",width:"180px"},model:{value:t.navbar,callback:function(e){t.navbar=e},expression:"navbar"}},[a("v-content",{staticClass:"py-4 white--text title text-center"},[t._v(t._s(t.GET_WEB_TITLE))]),a("v-divider"),a("v-list-item-group",t._l(t.links,(function(e,i){return a("v-list-item",{key:i,staticClass:"font-weight-light mr-3 header-href",attrs:{link:"",dense:""},on:{click:function(i){return t.jump(e.href)}}},[a("v-list-item-icon",[a("v-icon",[t._v(t._s(e.icon))])],1),a("v-list-item-title",{class:e.classes},[t._v(t._s(e.name))])],1)})),1)],1)],1)],1)],1)},ss=[],ns=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[i("v-btn",t._g({staticClass:"mt-2 search float-right",attrs:{text:"",rounded:""}},a),[t._v(" Search "),i("v-icon",[t._v("search")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("v-card",{staticStyle:{"border-radius":"25px",position:"absolute",top:"10%",left:"35%"},attrs:{width:"30%",color:"secondary lighten-1"}},[i("v-form",{on:{submit:function(e){return e.preventDefault(),t.searchRecord()}}},[i("v-text-field",{staticStyle:{overflow:"hidden"},attrs:{"prepend-inner-icon":"search",dark:"",hint:"search",placeholder:"Search for a record",dense:"","hide-details":"",clearable:"",rounded:"",outlined:"",autofocus:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1)],1)],1)},rs=[],os={name:"SearchDialog",data:function(){return{dialog:!1,title:"",recordsFound:[]}},methods:{searchRecord:function(){this.$store.dispatch("FIND_MOVIE",this.title).then((function(t){console.log(t.results)}))}}},ls=os,cs=(i("314d"),Object(H["a"])(ls,ns,rs,!1,null,"665792ec",null)),ds=cs.exports;z()(cs,{VBtn:K["a"],VCard:q["a"],VDialog:Q["a"],VForm:_e["a"],VIcon:et["a"],VTextField:xe["a"]});var us={name:"Header",components:{SearchDialog:ds},data:function(){return{navbar:!1,showNavbar:!0,lastScrollPosition:0}},computed:Object(kt["a"])({},Object(r["b"])(["GET_WEB_TITLE","GET_USER"]),{links:{get:function(){var t=this.$store.getters.GET_HEADER_LINKS;return this.$store.getters.GET_USER?t.filter((function(t){return 1==t.showWhenLoggedIn})):t},set:function(){}}}),methods:{jump:function(t){this.$route.name!=t&&this.$router.push({name:t})},changeBar:function(){this.navbar=!this.navbar},changeProfileBar:function(){this.$store.commit("SET_DRAWER")},onScroll:function(){var t=window.pageYOffset||document.documentElement.scrollTop;t<0||Math.abs(t-this.lastScrollPosition)<60||(this.showNavbar=t<this.lastScrollPosition,this.lastScrollPosition=t)}},mounted:function(){window.addEventListener("scroll",this.onScroll)},beforeDestroy:function(){window.removeEventListener("scroll",this.onScroll)}},ms=us,hs=(i("ebae"),i("40dc")),vs=i("5bc1"),ps=i("a75b"),fs=i("1baa"),gs=i("34c3"),_s=i("f774"),xs=Object(H["a"])(ms,as,ss,!1,null,"1be5c61e",null),ws=xs.exports;z()(xs,{VAppBar:hs["a"],VAppBarNavIcon:vs["a"],VAvatar:ha["a"],VCard:q["a"],VCol:Z["a"],VContent:ps["a"],VDivider:X["a"],VFadeTransition:$t["c"],VIcon:et["a"],VImg:it["a"],VLayout:at["a"],VListItem:nt["a"],VListItemGroup:fs["a"],VListItemIcon:gs["a"],VListItemTitle:rt["c"],VNavigationDrawer:_s["a"],VRow:lt["a"],VToolbarItems:ye["a"],VToolbarTitle:ye["b"]});var ys=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-footer",{attrs:{height:"45px",bottom:"",dark:"",color:"var(--v-primary-base)"}},[i("v-row",{attrs:{justify:"center"}},[i("p",{staticClass:"my-0 font-weight-light overline"},[t._v("2020 Marius Arlauskas IFF -6/7 - "+t._s(t.GET_WEB_TITLE))])])],1)},bs=[],Es={name:"Footer",computed:Object(kt["a"])({},Object(r["b"])(["GET_WEB_TITLE"]))},Ss=Es,Ts=i("553a"),Cs=Object(H["a"])(Ss,ys,bs,!1,null,"9f5fdb52",null),Is=Cs.exports;z()(Cs,{VFooter:Ts["a"],VRow:lt["a"]});var ks=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-fade-transition",[i("v-navigation-drawer",{staticStyle:{"border-bottom-left-radius":"15px"},attrs:{height:"auto",width:"183px",color:"primary","expand-on-hover":"","mini-variant":t.miniVariant,right:"",dark:"",fixed:"",permanent:""}},[i("v-list",{staticClass:"pt-0 transparent",attrs:{dense:"",nav:""}},[i("v-list-item",{class:t.miniVariant&&"px-0 mb-0",attrs:{"two-line":""}},[i("v-list-item-avatar",[i("img",{attrs:{src:t.GET_USER.profilePicture}})]),i("v-list-item-content",[i("v-list-item-title",[t._v(t._s(t.GET_USER.name))]),i("v-list-item-subtitle",{staticClass:"blue--text text--darken-1"},[t._v(t._s(t.GET_USER.role))])],1)],1),i("v-list-item",{attrs:{link:""},on:{click:function(e){return t.logout()}}},[i("v-list-item-icon",[i("v-icon",{staticClass:"accent--text text--lighten-2"},[t._v("exit_to_app")])],1),i("v-list-item-content",{staticClass:"accent--text subtitle-2 text--lighten-2",staticStyle:{"text-decoration":"none"}},[t._v("Logout")])],1),i("v-divider",{directives:[{name:"show",rawName:"v-show",value:"Admin"==t.GET_USER.role,expression:"GET_USER.role == 'Admin'"}],staticClass:"mb-1"}),t._l(t.adminItems,(function(e){return i("v-list-item",{directives:[{name:"show",rawName:"v-show",value:"Admin"==t.GET_USER.role,expression:"GET_USER.role == 'Admin'"}],key:e.title,on:{click:function(i){return t.jump(e.href,e.params)}}},[i("v-list-item-icon",[i("v-icon",{staticClass:"blue--text text--darken-1"},[t._v(t._s(e.icon))])],1),i("v-list-item-content",{staticClass:"blue--text text--darken-1 subtitle-2",staticStyle:{"text-decoration":"none"}},[t._v(t._s(e.title))])],1)})),i("v-divider",{staticClass:"mb-1"}),t._l(t.items,(function(e){return i("v-list-item",{key:e.title,on:{click:function(i){return t.jump(e.href,e.params)}}},[i("v-list-item-icon",[i("v-icon",[t._v(t._s(e.icon))])],1),i("v-list-item-content",[t._v(t._s(e.title))])],1)}))],2)],1)],1)},Vs=[],Ms=i("9624"),Rs=Ms["a"],Os=(i("6d58"),Object(H["a"])(Rs,ks,Vs,!1,null,"c84608c8",null)),Ps=Os.exports;z()(Os,{VDivider:X["a"],VFadeTransition:$t["c"],VIcon:et["a"],VList:st["a"],VListItem:nt["a"],VListItemAvatar:Ut["a"],VListItemContent:rt["a"],VListItemIcon:gs["a"],VListItemSubtitle:rt["b"],VListItemTitle:rt["c"],VNavigationDrawer:_s["a"]});var As=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-snackbar",{attrs:{color:t.NOTIFICATION.class,bottom:"",right:"",timeout:t.NOTIFICATION.timeout},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[i("v-icon",{attrs:{dark:""}},[t._v("notification_important")]),i("v-col",{staticClass:"white--text"},[t._v(t._s(t.NOTIFICATION.text))]),i("v-btn",{attrs:{text:"",dark:""},on:{click:function(e){e.preventDefault(),t.snackbar=!1}}},[i("v-icon",[t._v("clear")])],1)],1)},Us=[],$s={name:"notification",computed:Object(kt["a"])({},Object(r["b"])(["NOTIFICATION"]),{snackbar:{get:function(){return this.$store.getters.NOTIFICATION.display},set:function(){this.$store.commit("SET_NOTIFICATION",{display:!1})}}})},Ls=$s,Ds=i("2db4"),Ns=Object(H["a"])(Ls,As,Us,!1,null,"1c3b17c4",null),js=Ns.exports;z()(Ns,{VBtn:K["a"],VCol:Z["a"],VIcon:et["a"],VSnackbar:Ds["a"]});var Fs={name:"App",components:{Header:ws,Footer:Is,ProfileBar:Ps,Notification:js},data:function(){return{}},methods:{getUser:function(){this.$store.commit("SET_USER_FROM_SESSION")}},computed:Object(kt["a"])({},Object(r["b"])(["GET_USER_DRAWER","GET_USER"]),{drawer:{get:function(){return this.$store.getters.GET_USER_DRAWER},set:function(){}}}),beforeMount:function(){this.getUser()}},Gs=Fs,Bs=(i("034f"),i("7496")),Ws=Object(H["a"])(Gs,es,is,!1,null,null,null),Hs=Ws.exports;z()(Ws,{VApp:Bs["a"],VContent:ps["a"]});var Ys=i("f309"),zs=new Ys["a"]({icons:{iconfont:"md"},theme:{options:{customProperties:!0},themes:{light:{primary:"#26395C",secondary:"#253247",accent:"#7C4DFF",error:"#B85188",warning:"#9CB021",success:"#2AA865",background:"#1F283B"},dark:{}}}});a["a"].use(Ys["a"]),a["a"].config.productionTip=!1,new a["a"]({InfiniteLoading:Ht.a,router:Qa,store:P,vuetify:zs,render:function(t){return t(Hs)}}).$mount("#app"),a["a"].component("CommentBox",Bt),a["a"].component("FeedItem",Dt)},6388:function(t,e,i){},"65ba":function(t,e,i){"use strict";var a=i("4a90"),s=i.n(a);s.a},"6aa9":function(t,e,i){},"6d58":function(t,e,i){"use strict";var a=i("0e03"),s=i.n(a);s.a},"6e82":function(t,e,i){},"70d0":function(t,e,i){},7137:function(t,e,i){"use strict";var a=i("c396"),s=i.n(a);s.a},7605:function(t,e,i){},"7b95":function(t,e,i){},"7e34":function(t,e,i){},"88b3":function(t,e,i){"use strict";var a=i("70d0"),s=i.n(a);s.a},"8a23":function(t,e,i){},"8c4a":function(t,e,i){"use strict";var a=i("7b95"),s=i.n(a);s.a},9624:function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("b0c0"),core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_0__),D_OneDrive_Kaunas_University_of_Technology_Paskaitos_4_metai_2_psm_Bak_projektas_moviesFrontEnd_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("5530"),vuex__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("2f62");__webpack_exports__["a"]={data:function(){return{miniVariant:!0,items:[],adminItems:[]}},computed:Object(D_OneDrive_Kaunas_University_of_Technology_Paskaitos_4_metai_2_psm_Bak_projektas_moviesFrontEnd_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__["a"])({},Object(vuex__WEBPACK_IMPORTED_MODULE_2__["b"])(["GET_USER","GET_PROFILE_LINKS"]),{getUserId:function(){return this.$store.getters.GET_USER.id>0?this.$store.getters.GET_USER.id:0}}),methods:{getLinks:function(){this.items=this.$store.getters.GET_PROFILE_LINKS,this.adminItems=this.$store.getters.GET_ADMIN_PROFILE_LINKS},logout:function(){var t=this;this.$store.dispatch("LOGOUT").then((function(){"/login"!==t.$router.path&&t.$router.push("/login"),t.$store.commit("SET_NOTIFICATION",{display:!0,text:"Logged out!",alertClass:"error"})})).catch((function(){}))},jump:function jump(routeName,ruoteParams){if("undefined"!=typeof ruoteParams.method){var obj={};obj[ruoteParams.name]=eval(ruoteParams.method),ruoteParams=obj}this.$route.name==routeName&&this.$route.params.id==ruoteParams.id||this.$router.push({name:routeName,params:ruoteParams})}},mounted:function(){this.getLinks()}}},"9acb":function(t,e,i){"use strict";var a=i("ca09"),s=i.n(a);s.a},"9dbf":function(t,e,i){"use strict";var a=i("6388"),s=i.n(a);s.a},a71c:function(t,e,i){},bb89:function(t,e,i){"use strict";var a=i("2966"),s=i.n(a);s.a},becd:function(t,e,i){"use strict";var a=i("3ec2"),s=i.n(a);s.a},c11c:function(t,e,i){},c396:function(t,e,i){},ca09:function(t,e,i){},cf05:function(t,e,i){t.exports=i.p+"img/logo.946fc7fc.png"},d065:function(t,e,i){"use strict";var a=i("3dca"),s=i.n(a);s.a},d278:function(t,e,i){},d3e5:function(t,e,i){},d605:function(t,e,i){"use strict";var a=i("16af"),s=i.n(a);s.a},db30:function(t,e,i){},e4bc:function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("b0c0"),core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_0__);__webpack_exports__["a"]={name:"ProfileEdit",data:function(){return{settingsList:[{title:"Profile",href:"ProfileEditProfile",params:{name:"id",method:"this.getUserId"}}]}},computed:{getUserId:function(){return this.$store.getters.GET_USER.id>0?this.$store.getters.GET_USER.id:0}},methods:{getUser:function(){return this.$store.getters.GET_USER},jump:function jump(routeName,ruoteParams){if("undefined"!=typeof ruoteParams.method){var obj={};obj[ruoteParams.name]=eval(ruoteParams.method),ruoteParams=obj}this.$route.name!=routeName&&this.$router.push({name:routeName,params:ruoteParams})}}}},e533:function(t,e,i){"use strict";var a=i("d3e5"),s=i.n(a);s.a},ebae:function(t,e,i){"use strict";var a=i("2c9c"),s=i.n(a);s.a},f4d5:function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("b0c0"),core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_0__);__webpack_exports__["a"]={name:"AdminMenu",data:function(){return{settingsList:[{title:"Users",href:"AdminUsers",params:{}}]}},computed:{getUserId:function(){return this.$store.getters.GET_USER.id>0?this.$store.getters.GET_USER.id:0}},methods:{getUser:function(){return this.$store.getters.GET_USER},jump:function jump(routeName,ruoteParams){if("undefined"!=typeof ruoteParams.method){var obj={};obj[ruoteParams.name]=eval(ruoteParams.method),ruoteParams=obj}this.$route.name!=routeName&&this.$router.push({name:routeName,params:ruoteParams})}}}}});
//# sourceMappingURL=app.31dd0b15.js.map